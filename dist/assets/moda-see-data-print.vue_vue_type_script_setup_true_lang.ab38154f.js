import{_ as q}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as L,o as c,c as g,a as n,r as d,b as G,E as I,G as J,h as B,w as t,k as e,q as _,t as p,i as o,j as Q,F as X,g as A,s as H,N as W,K as Y,y as Z,v as ee,ad as te,ae,aa as ne,ag as oe,ab as se,M as le}from"./index.21c0d750.js";import{e as k}from"./exportFromJSON.6e5672c8.js";import{h as ie}from"./moment.62d3fb0a.js";import{s as pe}from"./serialisasi.378d5040.js";const re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},de=n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 184l144 144l144-144"},null,-1),_e=[de],ce=L({name:"ChevronDownOutline",render:function(b,f){return c(),g("svg",re,_e)}}),ue={key:1,style:{"margin-top":"15px"}},me=n("thead",null,[n("tr",null,[n("th",null,"No"),n("th",null,"Kode Serialisasi"),n("th",null,"Batch"),n("th",null,"Exp Date")])],-1),ge={"data-label":"No"},fe={"data-label":"Kode Serialisasi"},he={"data-label":"Batch"},ve={"data-label":"Exp Date"},ye={style:{display:"flex","justify-content":"center","margin-top":"16px"}},De=L({__name:"moda-see-data-print",props:{show:{type:Boolean,default:!1},serializeDetailDataRes:{},loading:{type:Boolean}},emits:["click:close","update:show"],setup(z,{emit:b}){const f=z,N=d([{key:"csv",label:"CSV"},{key:"txt",label:"TXT"}]),h=d(null),R=G(),s=d({level:1,page:1,limit:10,reception_id:R.params.id}),C=I(),v=d(!1),u=d([]),y=d(!1);d({});async function w(a){y.value=!0,s.value.level=a,await pe.getSerializeLevel(s.value).then(l=>{u.value=l.data,v.value=!1,y.value=!1}).catch(l=>{v.value=!1,y.value=!1;const r=l.response.data;C.error(r.message)})}function $(a){s.value.page=1,s.value.limit=a,w(s.value.level)}J(()=>f.show,a=>{a&&w(s.value.level)});function D(){const a=u.value.list;a&&k({data:a,fileName:"Data_Serialize",exportType:h.value})}function K(a){switch(a){case"csv":h.value=k.types.csv,D();break;case"txt":h.value=k.types.txt,D();break}}return(a,l)=>{const r=H,E=W,P=Y,T=Z,m=ee,x=te,V=ae,M=q,j=ne,O=oe,U=se,F=le;return c(),B(F,{"mask-closable":!1,show:f.show,preset:"card",role:"dialog",size:"huge",onUpdateShow:l[2]||(l[2]=i=>b("update:show",i)),bordered:!1,title:"Data QR Code Level 1",style:{width:"800px","max-width":"100%","border-radius":"10px"},"header-style":{paddingLeft:"30px",paddingRight:"30px",paddingBottom:"15px"},"content-style":{paddingLeft:"20px",paddingRight:"20px",paddingBottom:"20px"}},{default:t(()=>[e(m,{vertical:"",size:0,style:{"padding-left":"10px","padding-right":"10px"}},{default:t(()=>[e(m,{align:"center",justify:"space-between"},{default:t(()=>[e(r,{strong:"",style:{"font-size":"16px"}},{default:t(()=>[_(p(a.serializeDetailDataRes.product.long_name),1)]),_:1}),e(T,{trigger:"hover",options:o(N),onSelect:K},{default:t(()=>[e(P,{type:"primary"},{icon:t(()=>[e(E,{size:12},{default:t(()=>[e(o(ce))]),_:1})]),default:t(()=>[_(" Unduh ")]),_:1})]),_:1},8,["options"])]),_:1}),e(V,{cols:"3","item-responsive":"",style:{"margin-top":"1rem"},responsive:"screen","x-gap":"30","y-gap":"30"},{default:t(()=>[e(x,{span:"3 m:1"},{default:t(()=>[e(m,{vertical:"",size:0},{default:t(()=>[e(r,null,{default:t(()=>[_("Kode Perintah Kemas : "+p(a.serializeDetailDataRes.pk_id),1)]),_:1}),e(r,null,{default:t(()=>[_("Kode Produk : "+p(a.serializeDetailDataRes.product.item_code),1)]),_:1})]),_:1})]),_:1}),e(x,{span:"3 m:1"},{default:t(()=>[e(m,{vertical:"",size:0},{default:t(()=>[e(r,null,{default:t(()=>[_("Kode Perintah Kemas : "+p(a.serializeDetailDataRes.pk_id),1)]),_:1}),e(r,null,{default:t(()=>[_("Kode Produk : "+p(a.serializeDetailDataRes.product.item_code),1)]),_:1})]),_:1})]),_:1}),e(x,{span:"3 m:1"})]),_:1}),e(m,{vertical:"",size:0,align:"end"},{default:t(()=>[Q("",!0)]),_:1}),o(v)?(c(),B(M,{key:0})):(c(),g("div",ue,[e(U,{"x-scrollable":""},{default:t(()=>[e(j,{"single-line":!1},{default:t(()=>[me,n("tbody",null,[(c(!0),g(X,null,A(o(u).list,(i,S)=>(c(),g("tr",{key:S},[n("td",ge,p(o(s).limit*(o(s).page-1)+(S+1)),1),n("td",fe,p(a.$filters.isEmpty(i.code)),1),n("td",he,p(a.$filters.isEmpty(i.reception.batch_number)),1),n("td",ve,p(a.$filters.isEmpty(i.expired_date&&o(ie)(i.expired_date).format("L"))),1)]))),128))])]),_:1}),n("div",ye,[e(O,{page:o(s).page,"onUpdate:page":[l[0]||(l[0]=i=>o(s).page=i),l[1]||(l[1]=i=>w(o(s).level))],"page-count":o(u).total_page,"page-slot":7,"show-size-picker":o(u).total_data>10,"page-sizes":[10,20,30,40,50],"onUpdate:pageSize":$},null,8,["page","page-count","show-size-picker"])])]),_:1})]))]),_:1})]),_:1},8,["show"])}}});export{De as _};
