import{_ as J}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as O,b as W,E as A,r as g,f as G,p as Q,o as d,c as h,k as a,w as n,q as u,t as c,i as e,a as o,h as T,F as X,g as Y,af as Z,aJ as tt,v as et,ak as at,s as nt,a7 as ot,a8 as st,aa as lt,ab as _t,ag as it,L as ut,K as ct}from"./index.21c0d750.js";import{m as K}from"./master-warehouse.353b4b3b.js";import"./getCompanyId.7d0eb93b.js";const rt={class:"body-tnt"},dt={style:{display:"flex","align-items":"end"}},pt=o("thead",null,[o("tr",null,[o("th",null,"No"),o("th",null,"Kode Serialisasi"),o("th",null,"Item"),o("th",null,"Total Item")])],-1),mt=o("td",null,"?",-1),gt=o("td",null,"?",-1),ft=o("td",null,"?",-1),ht=o("td",null,"?",-1),vt=[mt,gt,ft,ht],yt={key:1},bt=o("td",{colspan:"5",style:{"text-align":"center"}},"Belum ada data serialisasi tersedia",-1),kt=[bt],xt={style:{"margin-top":"14px",display:"flex","justify-content":"center"}},wt={class:"bottom-action-button"},St={class:"action-item"},Kt=O({__name:"detail-pallete",setup(zt){const k=W(),x=A(),v=g(!1),l=g({}),r=g({}),N=localStorage.getItem("room_id"),s=g({search:"",sort:"desc",sort_field:"created_at",page:1,limit:10});G(()=>{w()});async function w(){v.value=!0,R(),await y(),v.value=!1}async function R(){const i=k.params.id;await K.getDetailRackPallete(i).then(_=>{l.value=_.data}).catch(_=>{const b=_.response.data;x.error(b.message)})}async function y(){s.value.warehouse_id=localStorage.getItem("plant_id"),s.value.building_id=localStorage.getItem("building_id"),s.value.room_id=localStorage.getItem("room_id"),s.value.rack_pallete_id=k.params.id,await K.getBin(s.value).then(i=>{r.value=i.data}).catch(i=>{const _=i.response.data;x.error(_.message)})}function U(i){s.value.page=1,s.value.limit=i,y()}const S=g(0);function C(){clearTimeout(S.value),S.value=setTimeout(function(){y()},600)}return(i,_)=>{const b=Z,M=tt,p=et,j=at,m=nt,z=ot,L=st,P=J,V=lt,$=_t,E=it,F=ut,H=ct,q=Q("router-link");return d(),h("div",rt,[a(p,{vertical:"",size:14},{default:n(()=>[a(p,{justify:"space-between"},{default:n(()=>[a(p,{vertical:"",size:0},{default:n(()=>[a(b,{style:{"margin-bottom":"4px"}},{default:n(()=>{var t;return[u(c((t=e(l).warehouse)==null?void 0:t.name),1)]}),_:1}),a(M,{style:{"margin-bottom":"4px"}},{default:n(()=>{var t,f,I,B,D;return[u(c(Object.keys(e(l)).length>0?((f=(t=e(l))==null?void 0:t.warehouse_building)==null?void 0:f.name)+" / "+((B=(I=e(l))==null?void 0:I.warehouse_room)==null?void 0:B.name)+" / "+((D=e(l))==null?void 0:D.name):""),1)]}),_:1})]),_:1}),o("div",dt,[a(j,{value:e(s).search,"onUpdate:value":_[0]||(_[0]=t=>e(s).search=t),onKeyup:C,type:"text",placeholder:"Cari nama produk",style:{width:"300px","max-width":"200%"}},null,8,["value"])])]),_:1}),a(L,{cols:12},{default:n(()=>[a(z,{span:4},{default:n(()=>[a(p,{vertical:""},{default:n(()=>[a(m,null,{default:n(()=>[u("Kapsitas(m3) : "+c(e(l).volume?e(l).volume:"-"),1)]),_:1}),a(m,null,{default:n(()=>{var t;return[u("Terisi(m3) : "+c((t=e(l).results)==null?void 0:t.total_used_volume),1)]}),_:1}),a(m,null,{default:n(()=>{var t;return[u("Usage(%) : "+c((t=e(l).results)==null?void 0:t.total_used_volume_percent),1)]}),_:1})]),_:1})]),_:1}),a(z,{span:4},{default:n(()=>[a(p,{vertical:""},{default:n(()=>[a(m,null,{default:n(()=>{var t;return[u("Total SKU : "+c((t=e(l).results)==null?void 0:t.total_product),1)]}),_:1}),a(m,null,{default:n(()=>{var t;return[u("Total Item : "+c((t=e(l).results)==null?void 0:t.total_first_level),1)]}),_:1})]),_:1})]),_:1})]),_:1}),a(F,{style:{"margin-bottom":"1rem","border-radius":"10px"}},{default:n(()=>[e(v)?(d(),T(P,{key:0})):(d(),T($,{key:1,"x-scrollable":""},{default:n(()=>[a(V,{bordered:!1,"single-line":!1},{default:n(()=>[pt,o("tbody",null,[e(r).list&&e(r).list.length>0?(d(!0),h(X,{key:0},Y(e(r).list,(t,f)=>(d(),h("tr",{key:f},vt))),128)):(d(),h("tr",yt,kt))])]),_:1})]),_:1})),o("div",xt,[a(E,{page:e(s).page,"onUpdate:page":[_[1]||(_[1]=t=>e(s).page=t),w],"page-size":e(s).limit,"onUpdate:pageSize":[_[2]||(_[2]=t=>e(s).limit=t),U],"page-count":e(r).total_page,"page-slot":7,"show-size-picker":e(r).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])]),_:1})]),_:1}),o("div",wt,[o("div",St,[a(q,{to:{name:"penyimpanan-stok-id-detail-room",params:{id:e(N)}},class:"text-decoration-none"},{default:n(()=>[a(H,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:n(()=>[u("Kembali")]),_:1})]),_:1},8,["to"])])])])}}});export{Kt as default};
