import{_ as Q}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as R,u as H,E as j,r as u,f as G,o as r,c as h,k as a,w as s,q as k,a as t,i as e,h as N,F as J,g as W,t as i,af as X,am as Y,an as Z,ak as tt,a7 as et,a8 as at,a9 as nt,N as ot,K as st,y as lt,aa as ct,ab as _t,ag as it}from"./index.21c0d750.js";import{h as rt}from"./moment.62d3fb0a.js";import{c as dt}from"./pengecekan.5688c890.js";import{r as S}from"./render-icon.8c81e0de.js";import{E as ut}from"./EllipsisVertical.56989e7a.js";import{S as pt}from"./SearchOutline.47b929a4.js";import{L as mt}from"./LocationOutline.22b247fa.js";import"./getCompanyId.7d0eb93b.js";import"./getHoldingId.48f570fc.js";const gt={class:"body-tnt"},ht={class:"card-tnt"},ft={class:"table-tnt"},kt=t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"center"}},"No"),t("th",null,"No PK"),t("th",null,"Tanggal"),t("th",null,"Kode Produk"),t("th",null,"Nama Produk"),t("th",null,"No. Batch"),t("th",{style:{"text-align":"center"}},"Qty"),t("th",{style:{"text-align":"center"}},"Status"),t("th",{style:{"text-align":"center"}},"Aksi")])],-1),bt={"data-label":"No",style:{"text-align":"center"}},yt={"data-label":"No PK"},vt={"data-label":"Tanggal"},xt={"data-label":"Kode Produk"},Nt={"data-label":"Nama Produk"},St={"data-label":"No. Batch"},wt={"data-label":"Qty Level Terendah",style:{"text-align":"center"}},Pt={"data-label":"Status",style:{"text-align":"center"}},zt={"data-label":"Aksi",style:{"text-align":"center"}},Bt={key:1},Lt=t("td",{colspan:"10",style:{"text-align":"center"}}," Belum ada data tersedia ",-1),Tt=[Lt],Dt={class:"table-footer"},It=R({__name:"index",setup(Kt){const b=H(),w=j(),p=u(!0),f=u(!1),d=u({}),n=u({search:"",status:"ready_to_check,on_checking,pending",sort:"desc",sort_field:"created_at",page:1,limit:10});G(()=>{m()});async function m(){p.value=!0,f.value=!0,await dt.getChecking(n.value).then(l=>{d.value=l.data,p.value=!1,f.value=!1}).catch(l=>{p.value=!1,f.value=!1;const o=l.response.data;w.error(o.message)})}const y=u(0);function P(){n.value.page=1,clearTimeout(y.value),y.value=setTimeout(function(){m()},600)}function z(l){n.value.page=1,n.value.limit=l,m()}const B=[{label:"Lihat Detail",key:"detail",icon:S(pt)},{label:"Lacak PK",key:"lacak",icon:S(mt)}];function L(l,o){switch(l){case"detail":b.push({name:"produksi-pengecekan-tahap1-id",params:{id:o}});break;case"lacak":b.push({name:"lacak-pk-id",params:{id:o}});break}}return(l,o)=>{const T=X,D=Y,K=Z,M=tt,$=et,C=at,E=Q,V=nt,O=ot,U=st,q=lt,A=ct,F=_t,I=it;return r(),h("div",gt,[a(T,{style:{"margin-bottom":"4px"}},{default:s(()=>[k("Pengecekan Tahap 1")]),_:1}),a(K,null,{default:s(()=>[a(D,null,{default:s(()=>[k("Pengecekan Tahap 1")]),_:1})]),_:1}),t("div",ht,[a(C,{gutter:"16"},{default:s(()=>[a($,{span:6},{default:s(()=>[a(M,{value:e(n).search,"onUpdate:value":[o[0]||(o[0]=_=>e(n).search=_),P],clearable:"",type:"text",placeholder:"Cari No PK"},null,8,["value"])]),_:1})]),_:1}),t("div",ft,[e(p)?(r(),N(E,{key:0})):(r(),N(F,{key:1,"x-scrollable":""},{default:s(()=>[a(A,{"single-line":!1},{default:s(()=>{var _;return[kt,t("tbody",null,[((_=e(d).list)==null?void 0:_.length)>0?(r(!0),h(J,{key:0},W(e(d).list,(c,v)=>(r(),h("tr",{key:v},[t("td",bt,i(e(n).limit*(e(n).page-1)+(v+1)),1),t("td",yt,i(c.pk_id),1),t("td",vt,i(e(rt)(c.created_at).format("yyyy-MM-DD")),1),t("td",xt,i(c.product.item_code),1),t("td",Nt,i(c.product.short_name),1),t("td",St,i(c.batch_number),1),t("td",wt,i(c.serialize?c.serialize[0].qty:0),1),t("td",Pt,[a(V,{type:"success",bordered:!1,round:""},{default:s(()=>{var g,x;return[k(i(l.$filters.toStatus((x=(g=c.status)==null?void 0:g.global)==null?void 0:x.value)),1)]}),_:2},1024)]),t("td",zt,[a(q,{placement:"bottom-end","show-arrow":"",options:B,onSelect:g=>L(g,c.id)},{default:s(()=>[a(U,{tertiary:""},{icon:s(()=>[a(O,null,{default:s(()=>[a(e(ut))]),_:1})]),_:1})]),_:2},1032,["onSelect"])])]))),128)):(r(),h("tr",Bt,Tt))])]}),_:1})]),_:1})),t("div",Dt,[a(I,{page:e(n).page,"onUpdate:page":[o[1]||(o[1]=_=>e(n).page=_),m],"page-size":e(n).limit,"onUpdate:pageSize":[o[2]||(o[2]=_=>e(n).limit=_),z],"page-count":e(d).total_page,"page-slot":7,"show-size-picker":e(d).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])])])])}}});export{It as default};
