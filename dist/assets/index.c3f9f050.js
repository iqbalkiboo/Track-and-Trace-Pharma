import{_ as at}from"./t-permission-modal.bdf6acbc.js";import{_ as lt}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{_ as nt}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as st,b as ot,E as it,r as k,f as ut,aF as pe,a1 as dt,p as rt,o as c,c as B,a as p,i as s,k as l,h as x,w as a,q as _,t as v,ah as R,j as f,F as j,g as te,l as ct,S as G,af as pt,s as mt,v as _t,ad as ft,N as vt,K as gt,ae as ht,aJ as yt,bt as kt,I as bt,J as wt,b1 as xt,y as Ct,aa as Bt,ab as Rt,L as $t}from"./index.21c0d750.js";import{c as S}from"./constant.549d5c21.js";import{m as C}from"./master-warehouse.353b4b3b.js";import{_ as St}from"./add-building.vue_vue_type_script_setup_true_lang.5f8dd051.js";import{_ as Dt}from"./add-room.vue_vue_type_script_setup_true_lang.339c9de5.js";import{_ as zt}from"./add-rack.vue_vue_type_script_setup_true_lang.37172ee9.js";import{_ as Pt}from"./add-bin.vue_vue_type_script_setup_true_lang.bf9eb918.js";import{A as ae}from"./Add.4f3b52cf.js";import{E as Ft}from"./EllipsisVertical.56989e7a.js";import{C as Tt}from"./CheckmarkCircleOutline.8fddcae1.js";import"./getCompanyId.7d0eb93b.js";const Ut={class:"body-tnt"},Gt={key:0,class:"card-tnt"},At={style:{display:"flex",gap:"10px","justify-content":"end"}},Et={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},It={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},Nt={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},jt={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},Ht={key:0,style:{"margin-top":"-2px"}},Mt=p("span",{style:{"font-size":"14px"}},"Detail Building",-1),Vt={key:0,style:{"margin-top":"3px"}},Lt=p("span",{style:{"margin-top":"-5px","font-size":"14px"}},"Edit",-1),Kt={key:1,style:{"margin-top":"3px"}},Wt=p("span",{style:{"font-size":"14px"}},"Hapus",-1),Jt={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},Ot={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},Yt={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},qt={key:0,style:{"margin-top":"-2px"}},Qt=p("span",{style:{"font-size":"14px"}},"Detail Room",-1),Xt=p("span",{style:{"margin-top":"-5px","font-size":"14px"}},"Edit",-1),Zt=p("span",{style:{"font-size":"14px"}},"Hapus",-1),ea={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},ta={class:"card-tnt",style:{border:"1px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},aa={key:1,style:{"margin-top":"-4px"}},la=p("span",{style:{"font-size":"13px"}},"Detail Bin",-1),na=p("span",{style:{"margin-top":"-5px","font-size":"14px"}},"Edit",-1),sa=p("span",{style:{"font-size":"14px"}},"Hapus",-1),oa={key:0,class:"table-tnt",style:{"margin-top":"0"}},ia=p("thead",null,[p("tr",null,[p("th",{style:{"text-align":"center"}},"No"),p("th",null,"ID Bin"),p("th",null,"Nama Bin"),p("th",{style:{"text-align":"center"}},"Aksi")])],-1),ua={style:{"text-align":"center"}},da={style:{"text-align":"center"}},ra={class:"bottom-action-button"},ca={class:"action-item"},$a=st({__name:"index",setup(pa){const me=ot(),b=it(),le=k(!0),n=k(!1),A=k({}),T=k({}),E=k({warehouse_id:me.params.id,sort:"desc",sort_field:"created_at",page:1,limit:1e3}),Y=k({show:!1}),ne=k([]);ut(()=>{ke(),pe.isGranted(S.accessPrivileges.warehouse+".detail")?se():Y.value.show=!0});function ke(){pe.isGranted(S.accessPrivileges.warehouse+".update")&&ne.value.push({label:"Edit",key:"edit"}),pe.isGranted(S.accessPrivileges.warehouse+".delete")&&ne.value.push({label:"Hapus",key:"delete"})}async function se(){le.value=!0,n.value=!0,await be(),await we(),le.value=!1,n.value=!1}async function be(){const e=me.params.id;await C.getDetailWarehouse(e).then(t=>{A.value=t.data}).catch(t=>{const o=t.response.data;b.error(o.message)})}async function we(){await C.getBuilding(E.value).then(e=>{T.value=e.data,T.value.list.forEach(t=>t.is_show_detail=!1)}).catch(e=>{const t=e.response.data;b.error(t.message)})}async function xe(e,t){n.value=!0,delete E.value.room_id,E.value.building_id=e,C.getRoom(E.value).then(o=>{o.data.list.length>0?e==o.data.list[0].warehouse_building.id&&(T.value.list[t].is_show_detail=!0,T.value.list[t].rooms=o.data.list,n.value=!1,T.value.list[t].rooms.forEach(d=>d.is_show_detail=!1)):(n.value=!1,b.error("Building tidak memiliki room"))}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1})}async function Ce(e,t,o){n.value=!0,delete E.value.rack_pallete_id,E.value.room_id=e,C.getRackPallete(E.value).then(d=>{d.data.list.length>0?e==d.data.list[0].warehouse_room.id&&(T.value.list[t].rooms[o].is_show_detail=!0,T.value.list[t].rooms[o].racks=d.data.list,n.value=!1,T.value.list[t].rooms[o].racks.forEach(m=>m.is_show_detail=!1)):(n.value=!1,b.error("Room tidak memiliki rack/pallete"))}).catch(d=>{const m=d.response.data;b.error(m.message),n.value=!1})}async function Be(e,t,o,d){n.value=!0,E.value.rack_pallete_id=e,C.getBin(E.value).then(m=>{m.data.list.length>0?e==m.data.list[0].warehouse_rack.id&&(T.value.list[t].rooms[o].racks[d].is_show_detail=!0,T.value.list[t].rooms[o].racks[d].bins=m.data.list,n.value=!1):(n.value=!1,b.error("Detail bin kosong"))}).catch(m=>{const w=m.response.data;b.error(w.message),n.value=!1})}function Re(e,t){switch(e){case"edit":He(t,"update","bin");break;case"delete":X(t.id,"bin",t.name);break}}const u=k({}),D=k({id:"",name:"",detail:""});function _e(){u.value.nameSubmit=="building"?ze():u.value.nameSubmit=="room"?Ue():u.value.nameSubmit=="rack/pallete"?Ie():u.value.nameSubmit=="bin"?Me():Le()}function $e(){D.value.name=="building"?Pe():D.value.name=="room"?Ge():D.value.name=="rack/pallete"?Ne():Ve()}const I=k({}),H=k(!1),oe=k();function Se(e,t){I.value={},u.value.typeSubmit=e,u.value.nameSubmit=t,H.value=!0}function De(e,t,o){u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,I.value={name:e.name,erp_code:e.erp_code,volume:e.volume,warning_max_capacity:e.warning_max_capacity},setTimeout(()=>{H.value=!0},300)}function ze(){var t;n.value=!0;const e=new FormData;if(e.append("company_id",A.value.company_id),e.append("warehouse_id",A.value.id),e.append("name",I.value.name),e.append("erp_code",I.value.erp_code),e.append("volume",I.value.volume),e.append("warning_max_capacity",I.value.warning_max_capacity),((t=u.value)==null?void 0:t.typeSubmit)=="create")C.createBuildingSingle(e).then(()=>{var o;n.value=!1,(o=oe.value)==null||o.handleCancelCrudBuilding(),H.value=!1,setTimeout(()=>{P("create","building")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()});else{const o=u.value.id;C.updateBuilding(o,e).then(()=>{var d;n.value=!1,(d=oe.value)==null||d.handleCancelCrudBuilding(),H.value=!1,setTimeout(()=>{P("update","building")},300)}).catch(d=>{const m=d.response.data;b.error(m.message),n.value=!1,z()})}}function Pe(){n.value=!0,C.deleteBuilding(D.value.id).then(()=>{r.value.show=!1,setTimeout(()=>{P("delete","building"),n.value=!1},300)}).catch(e=>{n.value=!1;const t=e.response.data;b.error(t.message)})}const U=k({}),M=k(!1),ie=k();function Fe(e,t,o){U.value={},u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,M.value=!0}function Te(e,t,o){u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,U.value={name:e.name,erp_code:e.erp_code,description:e.description,minimum:e.temperature.minimum,maximum:e.temperature.maximum,volume:e.volume,warning_max_capacity:e.warning_max_capacity},setTimeout(()=>{M.value=!0},300)}function Ue(){var t;n.value=!0;const e=new FormData;if(e.append("company_id",u.value.company_id),e.append("building_id",u.value.id),e.append("name",U.value.name),e.append("erp_code",U.value.erp_code),e.append("description",U.value.description),e.append("minimum",U.value.minimum),e.append("maximum",U.value.maximum),e.append("volume",U.value.volume),e.append("warning_max_capacity",U.value.warning_max_capacity),((t=u.value)==null?void 0:t.typeSubmit)=="create")C.createRoom(e).then(()=>{var o;n.value=!1,(o=ie.value)==null||o.handleCancelCrudRoom(),M.value=!1,setTimeout(()=>{P("create","room")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()});else{e.delete("company_id"),e.delete("building_id");const o=u.value.id;C.updateRoom(o,e).then(()=>{var d;n.value=!1,(d=ie.value)==null||d.handleCancelCrudRoom(),M.value=!1,setTimeout(()=>{P("update","room")},300)}).catch(d=>{const m=d.response.data;b.error(m.message),n.value=!1,z()})}}function Ge(){n.value=!0,C.deleteRoom(D.value.id).then(()=>{r.value.show=!1,setTimeout(()=>{P("delete","room"),n.value=!1},300)}).catch(e=>{n.value=!1;const t=e.response.data;b.error(t.message)})}const F=k({}),V=k(!1),q=k();function Ae(e,t,o){F.value={},u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,V.value=!0}function Ee(e,t,o){var d;u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,F.value={rack_pallete_kind:e.kind,rack_pallete_name:e.name,rack_pallete_erp_code:e.erp_code,rack_pallete_id:e.id_pallete,volume:e.volume,warning_max_capacity:e.warning_max_capacity},(d=q.value)==null||d.handleChangeTypeModal(),setTimeout(()=>{V.value=!0},300)}function Ie(){var t;n.value=!0;const e=new FormData;if(e.append("company_id",u.value.company_id),e.append("room_id",u.value.id),e.append("name",F.value.rack_pallete_name),e.append("kind",F.value.rack_pallete_kind),e.append("volume",F.value.volume),e.append("warning_max_capacity",F.value.warning_max_capacity),e.append("code_erp",F.value.rack_pallete_erp_code),F.value.rack_pallete_kind=="pallete"&&e.append("id",F.value.rack_pallete_id),((t=u.value)==null?void 0:t.typeSubmit)=="create")C.createRackPallete(e).then(()=>{var o;n.value=!1,(o=q.value)==null||o.handleCancelCrudRack(),V.value=!1,setTimeout(()=>{P("create","rack/pallete")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()});else{e.delete("code_erp"),e.append("erp_code",F.value.rack_pallete_erp_code);const o=u.value.id;C.updateRackPallete(o,e).then(()=>{var d;n.value=!1,(d=q.value)==null||d.handleCancelCrudRack(),V.value=!1,setTimeout(()=>{P("update","rack/pallete")},300)}).catch(d=>{const m=d.response.data;b.error(m.message),n.value=!1,z()})}}function Ne(){n.value=!0,C.deleteRackPallete(D.value.id).then(()=>{r.value.show=!1,setTimeout(()=>{P("delete","rack/pallete"),n.value=!1},300)}).catch(e=>{n.value=!1;const t=e.response.data;b.error(t.message)})}const L=k({}),K=k(!1),ue=k();function je(e,t,o){L.value={},u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,K.value=!0}function He(e,t,o){u.value=e,u.value.typeSubmit=t,u.value.nameSubmit=o,L.value={bin_name:e.name,bin_id:e.id_bin},setTimeout(()=>{K.value=!0},300)}function Me(){var t;n.value=!0;const e=new FormData;if(e.append("company_id",u.value.company_id),e.append("rack_pallete_id",u.value.id),e.append("name",L.value.bin_name),e.append("id",L.value.bin_id),((t=u.value)==null?void 0:t.typeSubmit)=="create")C.createBin(e).then(()=>{var o;n.value=!1,(o=ue.value)==null||o.handleCancelCrudBin(),K.value=!1,setTimeout(()=>{P("create","bin")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()});else{const o=u.value.id;C.updateBin(o,e).then(()=>{var d;n.value=!1,(d=ue.value)==null||d.handleCancelCrudBin(),K.value=!1,setTimeout(()=>{P("update","bin")},300)}).catch(d=>{const m=d.response.data;b.error(m.message),n.value=!1,z()})}}function Ve(){n.value=!0,C.deleteBin(D.value.id).then(()=>{r.value.show=!1,setTimeout(()=>{P("delete","bin"),n.value=!1},300)}).catch(e=>{n.value=!1;const t=e.response.data;b.error(t.message)})}function fe(e,t){e.set_as_default==!0&&(u.value=e,u.value.nameSubmit=t,Je())}function Le(){const e=new FormData;e.append("status",u.value.set_as_default);const t=u.value.id;u.value.nameSubmit=="default building"?(n.value=!0,C.updateBuildingDefault(t,e).then(()=>{n.value=!1,setTimeout(()=>{P("update","default building")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()})):(n.value=!0,C.updateRoomDefault(t,e).then(()=>{n.value=!1,setTimeout(()=>{P("update","default room")},300)}).catch(o=>{const d=o.response.data;b.error(d.message),n.value=!1,z()}))}const r=k({show:k(!1),icon:dt(),iconColor:"",hideIcon:!1,title:"",subtitle:"",type:""});function z(){r.value.show=!1}async function Ke(){await se(),z()}async function We(){await se(),z()}function Q(){r.value.type="confirm",r.value.hideIcon=!0,r.value.title="Konfirmasi",u.value.typeSubmit=="create"?r.value.subtitle=`Apakah Anda yakin untuk menambah ${u.value.nameSubmit}?`:r.value.subtitle=`Apakah Anda yakin untuk mengubah data ${u.value.nameSubmit}?`,r.value.show=!0}function X(e,t,o){D.value.id=e,D.value.name=t,D.value.detail=o,r.value.type="delete",r.value.hideIcon=!0,r.value.title="Perhatian",r.value.subtitle=`Apakah Anda yakin untuk menghapus ${D.value.name} ${D.value.detail}?`,r.value.show=!0}function P(e,t){r.value.type="success",r.value.hideIcon=!1,r.value.iconColor="#219653",r.value.icon=Tt,e=="create"?(r.value.title="Berhasil Tambah Data",r.value.subtitle=`Data ${t} berhasil ditambahkan`):e=="update"?(r.value.title="Berhasil Ubah Data",r.value.subtitle=`Data ${t} berhasil diubah`):(r.value.title="Berhasil Hapus Data",r.value.subtitle=`Data ${D.value.name} ${D.value.detail} berhasil dihapus`),r.value.show=!0}function Je(){r.value.type="set-default",r.value.hideIcon=!0,r.value.title="Konfirmasi",r.value.subtitle=`Apakah Anda yakin untuk mengubah data ${u.value.nameSubmit}?`,r.value.show=!0}return(e,t)=>{const o=nt,d=pt,m=mt,w=_t,$=ft,O=vt,y=gt,ve=rt("router-link"),W=ht,Z=yt,Oe=kt,ge=bt,he=wt,Ye=xt,qe=Ct,Qe=Bt,Xe=Rt,de=$t,Ze=lt,et=at;return c(),B(j,null,[p("div",Ut,[s(le)?(c(),B("div",Gt,[l(o)])):(c(),x(w,{key:1,vertical:"",size:24},{default:a(()=>[l(W,{cols:"2","item-responsive":"",responsive:"screen"},{default:a(()=>[l($,{span:"2 m:1"},{default:a(()=>[l(w,{vertical:"",size:0},{default:a(()=>[l(d,{style:{"margin-bottom":"4px"}},{default:a(()=>[_(v(s(A).name),1)]),_:1}),l(m,{strong:""},{default:a(()=>[_(v(s(A).erp_code),1)]),_:1}),l(m,{style:{"margin-bottom":"0"}},{default:a(()=>[_(v(e.$filters.setAddress(s(A).address)),1)]),_:1})]),_:1})]),_:1}),l($,{span:"2 m:1",style:{"text-align":"right"}},{default:a(()=>[p("div",At,[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".create")?(c(),x(y,{key:0,type:"primary",class:"button-tnt",onClick:t[0]||(t[0]=R(i=>Se("create","building"),["prevent"]))},{default:a(()=>[l(O,{component:s(ae)},null,8,["component"]),_(" Tambah Building ")]),_:1})):f("",!0),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".print")?(c(),x(ve,{key:1,to:{name:"setting-master-warehouse-id-barcode"},class:"text-decoration-none"},{default:a(()=>[l(y,{type:"warning",class:"button-tnt"},{default:a(()=>[_("Bulk Print Barcode")]),_:1})]),_:1})):f("",!0)])]),_:1})]),_:1}),l(w,{vertical:"",size:10},{default:a(()=>[l(Z,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_("Warehouse")]),_:1}),l(W,{cols:"4","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:a(()=>[l($,{span:"4 m:1"},{default:a(()=>[p("div",Et,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(s(A).counts.building)+" Building ",1)]),_:1})])]),_:1}),l($,{span:"4 m:1"},{default:a(()=>[p("div",It,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(s(A).counts.room)+" Room ",1)]),_:1})])]),_:1}),l($,{span:"4 m:1"},{default:a(()=>[p("div",Nt,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(s(A).counts.rack)+" Rack ("+v(s(A).counts.bin)+" Bin) ",1)]),_:1})])]),_:1}),l($,{span:"4 m:1"},{default:a(()=>[p("div",jt,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(s(A).counts.pallete)+" Pallete ",1)]),_:1})])]),_:1})]),_:1})]),_:1}),s(T).list.length>0?(c(),x(w,{key:0,vertical:"",size:16,style:{width:"100%"}},{default:a(()=>[(c(!0),B(j,null,te(s(T).list,(i,ee)=>(c(),x(de,{key:ee,style:ct([{"border-radius":"12px"},i.type=="broken"?"background-color: #f3c6153d":i.type=="lose"?"background-color: #e747672b":"background-color: #0b8f9d1c"])},{default:a(()=>[l(w,{vertical:""},{default:a(()=>[l(W,{cols:"2","item-responsive":"",responsive:"screen"},{default:a(()=>[l($,{span:"2 s:1"},{default:a(()=>[l(w,{size:16},{default:a(()=>[l(Z,{style:{"font-size":"14px","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(i.name),1)]),_:2},1024),i.counts.room>0&&!i.is_show_detail?(c(),B("div",Ht,[l(y,{loading:s(n),text:"",type:"primary",onClick:R(g=>xe(i.id,ee),["prevent"])},{default:a(()=>[Mt]),_:2},1032,["loading","onClick"])])):f("",!0)]),_:2},1024),f("",!0),l(m,{style:{display:"block","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(i.erp_code),1)]),_:2},1024)]),_:2},1024),l($,{span:"2 s:1"},{default:a(()=>[l(w,{justify:"end",size:16},{default:a(()=>[i.type=="good"?(c(),B("div",Vt,[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".update")?(c(),x(y,{key:0,loading:s(n),text:"",type:"warning",onClick:R(g=>De(i,"update","building"),["prevent"])},{default:a(()=>[Lt]),_:2},1032,["loading","onClick"])):f("",!0)])):f("",!0),i.type=="good"?(c(),B("div",Kt,[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".delete")?(c(),x(y,{key:0,loading:s(n),text:"",type:"error",onClick:R(g=>X(i.id,"building",i.name),["prevent"])},{default:a(()=>[Wt]),_:2},1032,["loading","onClick"])):f("",!0)])):f("",!0),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".update")?(c(),x(he,{key:2,"label-placement":"left","show-feedback":!1},{default:a(()=>[l(ge,{label:"Set as default"},{default:a(()=>[l(Oe,{value:i.set_as_default,"onUpdate:value":[g=>i.set_as_default=g,g=>fe(i,"default building")],disabled:i.set_as_default},null,8,["value","onUpdate:value","disabled"])]),_:2},1024)]),_:2},1024)):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(W,{cols:"3","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:a(()=>[l($,{span:"3 s:1"},{default:a(()=>[p("div",Jt,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(i.counts.room)+" Room ",1)]),_:2},1024)])]),_:2},1024),l($,{span:"3 s:1"},{default:a(()=>[p("div",Ot,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(i.counts.rack)+" Rack ("+v(i.counts.bin)+" Bin) ",1)]),_:2},1024)])]),_:2},1024),l($,{span:"3 s:1"},{default:a(()=>[p("div",Yt,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(i.counts.pallete)+" Pallete ",1)]),_:2},1024)])]),_:2},1024)]),_:2},1024),l(w,{vertical:"",size:16},{default:a(()=>[(c(!0),B(j,null,te(i.rooms,(g,re)=>(c(),x(de,{key:re,style:{"border-radius":"12px"}},{default:a(()=>[l(w,{vertical:"",size:16},{default:a(()=>[p("div",null,[l(w,{justify:"space-between"},{default:a(()=>[l(w,null,{default:a(()=>{var h;return[l(Z,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(g.name),1)]),_:2},1024),((h=g.counts)==null?void 0:h.rack)>0&&!g.is_show_detail?(c(),B("div",qt,[l(y,{loading:s(n),text:"",type:"primary",onClick:R(ce=>Ce(g.id,ee,re),["prevent"])},{default:a(()=>[Qt]),_:2},1032,["loading","onClick"])])):f("",!0)]}),_:2},1024),l(w,null,{default:a(()=>[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".update")?(c(),x(y,{key:0,loading:s(n),text:"",type:"warning",onClick:R(h=>Te(g,"update","room"),["prevent"])},{default:a(()=>[Xt]),_:2},1032,["loading","onClick"])):f("",!0),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".delete")?(c(),x(y,{key:1,loading:s(n),text:"",type:"error",onClick:R(h=>X(g.id,"room",g.name),["prevent"])},{default:a(()=>[Zt]),_:2},1032,["loading","onClick"])):f("",!0)]),_:2},1024)]),_:2},1024),l(m,{style:{display:"block","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(g.erp_code),1)]),_:2},1024),l(m,{style:{display:"block","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(g.description),1)]),_:2},1024)]),l(W,{cols:"4","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:a(()=>[l($,{span:"4 s:1"},{default:a(()=>[p("div",ea,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(g.counts.rack)+" Rack ("+v(g.counts.bin)+" Bin) ",1)]),_:2},1024)])]),_:2},1024),l($,{span:"4 s:1"},{default:a(()=>[p("div",ta,[l(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:a(()=>[_(v(g.counts.pallete)+" Pallete ",1)]),_:2},1024)])]),_:2},1024),l($,{span:"4 s:2"},{default:a(()=>[l(w,{justify:"end",align:"center",style:{height:"100%"}},{default:a(()=>[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".update")?(c(),x(he,{key:0,"label-placement":"left"},{default:a(()=>[l(ge,{label:"Set as default"},{default:a(()=>[l(Ye,{checked:g.set_as_default,"onUpdate:checked":[h=>g.set_as_default=h,h=>fe(g,"default room")],disabled:g.set_as_default},null,8,["checked","onUpdate:checked","disabled"])]),_:2},1024)]),_:2},1024)):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(w,{vertical:"",size:16},{default:a(()=>[(c(!0),B(j,null,te(g.racks,(h,ce)=>(c(),x(de,{key:ce,style:{"border-radius":"12px",background:"#eee"}},{default:a(()=>[l(w,{vertical:"",size:16},{default:a(()=>{var ye;return[l(W,{cols:"2","item-responsive":"",responsive:"screen"},{default:a(()=>[l($,{span:"2 s:1"},{default:a(()=>[l(Z,{style:{"font-size":"14px","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(h.name),1)]),_:2},1024),l(m,{style:{display:"block","margin-bottom":"0","margin-top":"0"}},{default:a(()=>[_(v(h.erp_code?h.erp_code:h.id_pallete),1)]),_:2},1024),l(w,{size:16},{default:a(()=>{var N;return[h.kind=="rack"?(c(),x(m,{key:0,style:{display:"block","margin-bottom":"0","margin-top":"0"}},{default:a(()=>{var J;return[_(" Jumlah Bin : "),p("strong",null,v((J=h.counts)==null?void 0:J.bin),1)]}),_:2},1024)):f("",!0),((N=h.counts)==null?void 0:N.bin)>0&&!h.is_show_detail?(c(),B("div",aa,[l(y,{loading:s(n),text:"",type:"primary",onClick:R(J=>Be(h.id,ee,re,ce),["prevent"])},{default:a(()=>[la]),_:2},1032,["loading","onClick"])])):f("",!0)]}),_:2},1024)]),_:2},1024),l($,{span:"2 s:1"},{default:a(()=>[l(w,{justify:"end"},{default:a(()=>[e.$filters.isGranted(s(S).accessPrivileges.warehouse+".update")?(c(),x(y,{key:0,loading:s(n),text:"",type:"warning",onClick:R(N=>Ee(h,"update","rack/pallete"),["prevent"])},{default:a(()=>[na]),_:2},1032,["loading","onClick"])):f("",!0),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".delete")?(c(),x(y,{key:1,loading:s(n),text:"",type:"error",onClick:R(N=>X(h.id,"rack/pallete",h.name),["prevent"])},{default:a(()=>[sa]),_:2},1032,["loading","onClick"])):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),((ye=h.bins)==null?void 0:ye.length)>0?(c(),B("div",oa,[l(Xe,{"x-scrollable":""},{default:a(()=>[l(Qe,{"single-line":!1},{default:a(()=>[ia,p("tbody",null,[(c(!0),B(j,null,te(h.bins,(N,J)=>(c(),B("tr",{key:J},[p("td",ua,v(J+1),1),p("td",null,v(N.id_bin),1),p("td",null,v(N.name),1),p("td",da,[l(qe,{placement:"bottom-end","show-arrow":!0,options:s(ne),onSelect:tt=>Re(tt,N)},{default:a(()=>[l(y,{tertiary:""},{icon:a(()=>[l(O,null,{default:a(()=>[l(s(Ft))]),_:1})]),_:1})]),_:2},1032,["options","onSelect"])])]))),128))])]),_:2},1024)]),_:2},1024)])):f("",!0),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".create")?(c(),B(j,{key:1},[h.kind=="rack"?(c(),x(y,{key:0,color:"#FFFFFF","text-color":"#333639",class:"button-tnt",onClick:R(N=>je(h,"create","bin"),["prevent"])},{default:a(()=>[l(O,{component:s(ae)},null,8,["component"]),_(" Tambah Bin ")]),_:2},1032,["onClick"])):f("",!0)],64)):f("",!0)]}),_:2},1024)]),_:2},1024))),128)),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".create")?(c(),x(y,{key:0,class:"button-tnt",onClick:R(h=>Ae(g,"create","rack/pallete"),["prevent"])},{default:a(()=>[l(O,{component:s(ae)},null,8,["component"]),_(" Tambah Rack / Pallete ")]),_:2},1032,["onClick"])):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e.$filters.isGranted(s(S).accessPrivileges.warehouse+".create")?(c(),x(y,{key:0,color:"#FFFFFF","text-color":"#333639",class:"button-tnt",onClick:R(g=>Fe(i,"create","room"),["prevent"])},{default:a(()=>[l(O,{component:s(ae)},null,8,["component"]),_(" Tambah Room ")]),_:2},1032,["onClick"])):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1})):f("",!0)]),_:1})),p("div",ra,[p("div",ca,[l(ve,{to:{name:"setting-master-warehouse"},class:"text-decoration-none"},{default:a(()=>[l(y,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:a(()=>[_("Kembali")]),_:1})]),_:1})])])]),l(St,{ref_key:"crudBuildingRef",ref:oe,show:s(H),"onUpdate:show":t[1]||(t[1]=i=>G(H)?H.value=i:null),value:s(I),"onUpdate:value":t[2]||(t[2]=i=>G(I)?I.value=i:null),loading:s(n),"onUpdate:loading":t[3]||(t[3]=i=>G(n)?n.value=i:null),"onClick:save":Q},null,8,["show","value","loading"]),l(Dt,{ref_key:"crudRoomRef",ref:ie,show:s(M),"onUpdate:show":t[4]||(t[4]=i=>G(M)?M.value=i:null),value:s(U),"onUpdate:value":t[5]||(t[5]=i=>G(U)?U.value=i:null),loading:s(n),"onUpdate:loading":t[6]||(t[6]=i=>G(n)?n.value=i:null),"onClick:save":Q},null,8,["show","value","loading"]),l(zt,{ref_key:"crudRackPalleteRef",ref:q,show:s(V),"onUpdate:show":t[7]||(t[7]=i=>G(V)?V.value=i:null),value:s(F),"onUpdate:value":t[8]||(t[8]=i=>G(F)?F.value=i:null),loading:s(n),"onUpdate:loading":t[9]||(t[9]=i=>G(n)?n.value=i:null),"onClick:save":Q},null,8,["show","value","loading"]),l(Pt,{ref_key:"crudBinRef",ref:ue,show:s(K),"onUpdate:show":t[10]||(t[10]=i=>G(K)?K.value=i:null),value:s(L),"onUpdate:value":t[11]||(t[11]=i=>G(L)?L.value=i:null),loading:s(n),"onUpdate:loading":t[12]||(t[12]=i=>G(n)?n.value=i:null),"onClick:save":Q},null,8,["show","value","loading"]),l(Ze,{show:s(r).show,"onUpdate:show":t[13]||(t[13]=i=>s(r).show=i),icon:s(r).icon,"icon-color":s(r).iconColor,"hide-icon":s(r).hideIcon,title:s(r).title,subtitle:s(r).subtitle},{default:a(()=>[l(w,{justify:"center"},{default:a(()=>[s(r).type=="confirm"?(c(),B(j,{key:0},[l(y,{loading:s(n),color:"#828282",class:"button-tnt",onClick:z},{default:a(()=>[_(" Tutup ")]),_:1},8,["loading"]),l(y,{loading:s(n),color:"#219653",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:R(_e,["prevent"])},{default:a(()=>[_(" Yakin ")]),_:1},8,["loading","onClick"])],64)):f("",!0),s(r).type=="delete"?(c(),B(j,{key:1},[l(y,{loading:s(n),color:"#828282",class:"button-tnt",onClick:R(z,["prevent"])},{default:a(()=>[_(" Tidak ")]),_:1},8,["loading","onClick"]),l(y,{loading:s(n),color:"#EB5757",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:R($e,["prevent"])},{default:a(()=>[_(" Iya ")]),_:1},8,["loading","onClick"])],64)):f("",!0),s(r).type=="set-default"?(c(),B(j,{key:2},[l(y,{loading:s(n),color:"#828282",class:"button-tnt",onClick:We},{default:a(()=>[_(" Batal ")]),_:1},8,["loading"]),l(y,{loading:s(n),color:"#219653",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:R(_e,["prevent"])},{default:a(()=>[_(" Yakin ")]),_:1},8,["loading","onClick"])],64)):f("",!0),s(r).type=="success"?(c(),x(y,{key:3,loading:s(n),color:"#828282",class:"button-tnt",onClick:Ke},{default:a(()=>[_(" Tutup ")]),_:1},8,["loading"])):f("",!0)]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"]),l(et,{show:s(Y).show,"onUpdate:show":t[14]||(t[14]=i=>s(Y).show=i),"onClick:close":t[15]||(t[15]=i=>s(Y).show=!1)},null,8,["show"])],64)}}});export{$a as default};
