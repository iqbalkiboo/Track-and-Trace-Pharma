import{_ as it}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as rt,b as ut,u as dt,E as _t,r as C,f as ct,p as pt,o as m,c as h,k as n,w as a,q as u,t as i,i as s,ah as y,aY as v,a as t,aZ as b,h as mt,F as W,g as gt,af as ht,aJ as ft,s as yt,v as vt,ak as bt,a7 as kt,a9 as wt,a8 as xt,K as $t,aa as Nt,ab as Ct,ag as St,L as Tt}from"./index.21c0d750.js";import{m as q}from"./master-warehouse.353b4b3b.js";import"./getCompanyId.7d0eb93b.js";const Rt={class:"body-tnt"},Bt=["value"],Dt={style:{display:"flex","align-items":"end"}},zt=t("thead",null,[t("tr",null,[t("th",{style:{width:"20%"}},"Non Room"),t("th",{style:{width:"15%","text-align":"right"}},"Kapasitas(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Terisi(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Usage(%)"),t("th",{style:{width:"10%","text-align":"right"}},"Total SKU"),t("th",{style:{width:"10%","text-align":"right"}},"Total Stok"),t("th",{style:{width:"15%","text-align":"center"}},"Aksi")])],-1),Kt={key:0},Ut=["value"],jt={style:{"text-align":"right"}},It={style:{"text-align":"right"}},Lt={style:{"text-align":"right"}},Pt={style:{"text-align":"right"}},Mt={style:{"text-align":"right"}},Et={style:{"text-align":"center"}},Vt={key:1},At=t("td",{colspan:"7",style:{"text-align":"center"}},"Belum ada data non room tersedia",-1),Ft=[At],Ht=t("thead",null,[t("tr",null,[t("th",{style:{width:"20%"}},"Warehouse Room"),t("th",{style:{width:"15%","text-align":"right"}},"Kapasitas(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Terisi(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Usage(%)"),t("th",{style:{width:"10%","text-align":"right"}},"Total SKU"),t("th",{style:{width:"10%","text-align":"right"}},"Total Stok"),t("th",{style:{width:"15%","text-align":"center"}},"Aksi")])],-1),Wt=["value","id"],qt={style:{"text-align":"right"}},Jt={style:{"text-align":"right"}},Ot={style:{"text-align":"right"}},Yt={style:{"text-align":"right"}},Zt={style:{"text-align":"right"}},Gt={style:{"text-align":"center"}},Qt={key:1},Xt=t("td",{colspan:"7",style:{"text-align":"center"}},"Belum ada data room tersedia",-1),te=[Xt],ee={style:{"margin-top":"14px",display:"flex","justify-content":"center"}},oe={class:"bottom-action-button"},se={class:"action-item"},de=rt({__name:"detail-building",setup(ne){const U=ut(),B=dt(),S=_t(),T=C(!1),l=C({}),f=C({}),d=C({search:"",sort:"desc",sort_field:"created_at",page:1,limit:10});ct(()=>{j()});async function j(){J(),await D()}async function J(){const o=U.params.id;await q.getDetailBuilding(o).then(r=>{l.value=r.data}).catch(r=>{const _=r.response.data;S.error(_.message)})}async function D(){T.value=!0,d.value.warehouse_id=localStorage.getItem("plant_id"),d.value.building_id=U.params.id,await q.getRoom(d.value).then(o=>{f.value=o.data,T.value=!1}).catch(o=>{const r=o.response.data;S.error(r.message),T.value=!1})}function O(o){d.value.page=1,d.value.limit=o,D()}const I=C(0);function Y(){clearTimeout(I.value),I.value=setTimeout(function(){D()},600)}function L(){const o=document.getElementById("copyCode");o.select(),o.setSelectionRange(0,99999),navigator.clipboard.writeText(o.value),S.success("Kode erp tersalin")}function Z(o,r){const _=document.getElementById("copyCodeRoom"+o+r);_.select(),_.setSelectionRange(0,99999),navigator.clipboard.writeText(_.value),S.success("Kode erp tersalin")}function G(o,r){localStorage.setItem("building_id",o),B.push({name:"penyimpanan-stok-id-detail-room",params:{id:r}})}function Q(o,r,_){localStorage.setItem("warehouse_type",o),localStorage.setItem("warehouse_name",_),localStorage.setItem("building_id",r),B.push({name:"penyimpanan-stok-id-detail-list-product",params:{id:r}})}function X(o,r,_){localStorage.setItem("warehouse_type",o),localStorage.setItem("building_id",_),B.push({name:"penyimpanan-stok-id-detail-list-product",params:{id:r}})}return(o,r)=>{const _=ht,tt=ft,p=yt,g=vt,et=bt,z=kt,K=wt,ot=xt,st=it,R=$t,P=Nt,M=Ct,nt=St,at=Tt,lt=pt("router-link");return m(),h("div",Rt,[n(g,{vertical:"",size:14},{default:a(()=>[n(g,{justify:"space-between"},{default:a(()=>[n(g,{vertical:"",size:0},{default:a(()=>[n(_,{style:{"margin-bottom":"4px"}},{default:a(()=>{var e;return[u(i((e=s(l).warehouse)==null?void 0:e.name),1)]}),_:1}),n(tt,{style:{"margin-bottom":"4px"}},{default:a(()=>[u(i(s(l).name),1)]),_:1}),n(p,{type:"primary",strong:"",style:{cursor:"pointer"},onClick:y(L,["prevent"])},{default:a(()=>[u(i(s(l).erp_code),1)]),_:1},8,["onClick"]),v(t("div",null,[v(t("input",{type:"text",value:s(l).erp_code,id:"copyCode"},null,8,Bt),[[b,!1]])],512),[[b,!1]])]),_:1}),t("div",Dt,[n(et,{value:s(d).search,"onUpdate:value":r[0]||(r[0]=e=>s(d).search=e),onKeyup:Y,type:"text",placeholder:"Cari nama room",style:{width:"300px","max-width":"200%"}},null,8,["value"])])]),_:1}),n(ot,{cols:12},{default:a(()=>[n(z,{span:4},{default:a(()=>[n(g,{vertical:""},{default:a(()=>[n(p,null,{default:a(()=>[u("Kapsitas(m\xB3) : "+i(o.$filters.toNumber(s(l).volume)),1)]),_:1}),n(p,null,{default:a(()=>{var e;return[u("Terisi(m\xB3) : "+i(o.$filters.toNumber((e=s(l).results)==null?void 0:e.total_used_volume)),1)]}),_:1}),n(p,null,{default:a(()=>{var e;return[u("Usage(%) : "+i(o.$filters.toNumber((e=s(l).results)==null?void 0:e.total_used_volume_percent)),1)]}),_:1})]),_:1})]),_:1}),n(z,{span:4},{default:a(()=>[n(g,{vertical:""},{default:a(()=>[n(p,null,{default:a(()=>{var e;return[u("Total SKU : "+i(o.$filters.toNumber((e=s(l).results)==null?void 0:e.total_product)),1)]}),_:1}),n(p,null,{default:a(()=>{var e;return[u("Total Stok : "+i(o.$filters.toNumber((e=s(l).results)==null?void 0:e.total_first_level)),1)]}),_:1})]),_:1})]),_:1}),n(z,{span:16},{default:a(()=>[n(K,{bordered:!1,style:{"margin-right":"10px",width:"8rem",height:"2rem","justify-content":"center"}},{default:a(()=>{var e;return[u(i(o.$filters.toNumber((e=s(l).counts)==null?void 0:e.room))+" Room ",1)]}),_:1}),n(K,{bordered:!1,style:{"margin-right":"10px",width:"10rem",height:"2rem","justify-content":"center"}},{default:a(()=>{var e,c;return[u(i(o.$filters.toNumber((e=s(l).counts)==null?void 0:e.rack))+" Rack ("+i(o.$filters.toNumber((c=s(l).counts)==null?void 0:c.bin))+" Bin) ",1)]}),_:1}),n(K,{bordered:!1,style:{"margin-right":"10px",width:"8rem",height:"2rem","justify-content":"center"}},{default:a(()=>{var e;return[u(i(o.$filters.toNumber((e=s(l).counts)==null?void 0:e.pallete))+" Pallete ",1)]}),_:1})]),_:1})]),_:1}),n(at,{style:{"margin-bottom":"1rem","border-radius":"10px"}},{default:a(()=>[s(T)?(m(),mt(st,{key:0})):(m(),h(W,{key:1},[n(M,{"x-scrollable":""},{default:a(()=>[n(P,{bordered:!1,"single-line":!1},{default:a(()=>{var e,c,k,w,x,$,N,E,V,A,F;return[zt,t("tbody",null,[Object.keys(s(l)).length>0?(m(),h("tr",Kt,[t("td",null,[t("div",null,[u(i((e=s(l))==null?void 0:e.name)+" ",1),n(p,{type:"primary",strong:"",style:{"font-size":"11px",display:"block",cursor:"pointer"},onClick:y(L,["prevent"])},{default:a(()=>[u(i(s(l).erp_code),1)]),_:1},8,["onClick"])]),v(t("div",null,[v(t("input",{type:"text",value:s(l).erp_code,id:"copyCode"},null,8,Ut),[[b,!1]])],512),[[b,!1]])]),t("td",jt,i(o.$filters.toNumber(s(l).volume)),1),t("td",It,i(o.$filters.toNumber((k=(c=s(l))==null?void 0:c.results)==null?void 0:k.total_used_volume)),1),t("td",Lt,i(o.$filters.toNumber((x=(w=s(l))==null?void 0:w.results)==null?void 0:x.total_used_volume_percent)),1),t("td",Pt,i(o.$filters.toNumber((E=(N=($=s(l))==null?void 0:$.results)==null?void 0:N.current)==null?void 0:E.total_product)),1),t("td",Mt,i(o.$filters.toNumber((F=(A=(V=s(l))==null?void 0:V.results)==null?void 0:A.current)==null?void 0:F.total_first_level)),1),t("td",Et,[n(g,{justify:"center"},{default:a(()=>[n(R,{tertiary:"",onClick:r[1]||(r[1]=y(ae=>{var H;return Q("building_non_room",s(l).id,(H=s(l).warehouse)==null?void 0:H.name)},["prevent"]))},{default:a(()=>[u(" List Produk ")]),_:1})]),_:1})])])):(m(),h("tr",Vt,Ft))])]}),_:1})]),_:1}),n(M,{"x-scrollable":""},{default:a(()=>[n(P,{bordered:!1,"single-line":!1,style:{"margin-top":"24px"}},{default:a(()=>[Ht,t("tbody",null,[s(f).list&&s(f).list.length>0?(m(!0),h(W,{key:0},gt(s(f).list,(e,c)=>{var k,w,x,$;return m(),h("tr",{key:c},[t("td",null,[t("div",null,[u(i(e.name)+" ",1),n(p,{type:"primary",strong:"",style:{"font-size":"11px",display:"block",cursor:"pointer"},onClick:y(N=>Z(c,e.erp_code),["prevent"])},{default:a(()=>[u(i(e.erp_code),1)]),_:2},1032,["onClick"])]),v(t("div",null,[v(t("input",{type:"text",value:e.erp_code,id:"copyCodeRoom"+c+e.erp_code},null,8,Wt),[[b,!1]])],512),[[b,!1]])]),t("td",qt,i(o.$filters.toNumber(e.volume)),1),t("td",Jt,i(o.$filters.toNumber((k=e.results)==null?void 0:k.total_used_volume)),1),t("td",Ot,i(o.$filters.toNumber((w=e.results)==null?void 0:w.total_used_volume_percent)),1),t("td",Yt,i(o.$filters.toNumber((x=e.results)==null?void 0:x.total_product)),1),t("td",Zt,i(o.$filters.toNumber(($=e.results)==null?void 0:$.total_first_level)),1),t("td",Gt,[n(g,{justify:"center"},{default:a(()=>[n(R,{tertiary:"",onClick:y(N=>G(s(l).id,e.id),["prevent"])},{default:a(()=>[u(" Detail ")]),_:2},1032,["onClick"]),n(R,{tertiary:"",onClick:y(N=>X("room",e.id,s(l).id),["prevent"])},{default:a(()=>[u(" List Produk ")]),_:2},1032,["onClick"])]),_:2},1024)])])}),128)):(m(),h("tr",Qt,te))])]),_:1})]),_:1})],64)),t("div",ee,[n(nt,{page:s(d).page,"onUpdate:page":[r[2]||(r[2]=e=>s(d).page=e),j],"page-size":s(d).limit,"onUpdate:pageSize":[r[3]||(r[3]=e=>s(d).limit=e),O],"page-count":s(f).total_page,"page-slot":7,"show-size-picker":s(f).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])]),_:1})]),_:1}),t("div",oe,[t("div",se,[n(lt,{to:{name:"penyimpanan-stok"},class:"text-decoration-none"},{default:a(()=>[n(R,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:a(()=>[u("Kembali")]),_:1})]),_:1})])])])}}});export{de as default};
