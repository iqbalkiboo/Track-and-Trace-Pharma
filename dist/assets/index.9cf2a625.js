import{_ as lt}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{_ as ot}from"./t-reception-modal.vue_vue_type_script_setup_true_lang.53b910fc.js";import{d as me,E as fe,e as ge,r as h,G as Qe,f as he,aI as Ee,o as k,c as $,k as e,w as t,q as n,t as d,i as a,h as V,ah as Se,a as s,S as re,F as J,af as ye,s as ve,v as ke,ad as be,ae as we,aj as st,I as Ge,ak as Oe,aM as xe,bq as Je,J as He,ab as Ye,K as ze,M as We,j as B,b as it,a1 as dt,p as ut,g as Fe,a9 as rt,aa as ct,N as _t}from"./index.21c0d750.js";import{s as Xe}from"./storage.731d7fd8.js";import{_ as pt}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{h as ue}from"./moment.62d3fb0a.js";import{c as X}from"./pengecekan.5688c890.js";import{A as mt}from"./ArrowBackOutline.8e9fb91f.js";import{C as ft}from"./CheckmarkCircleOutline.8fddcae1.js";import"./master-warehouse.353b4b3b.js";import"./getCompanyId.7d0eb93b.js";import"./getHoldingId.48f570fc.js";const gt=["src"],ht=me({__name:"t-pending-modal",props:{show:{type:Boolean,default:!1},value:{default:()=>({})},level:{default:1},detailData:{default:()=>({})},selectedData:{default:()=>[]},title:{}},emits:["update:show","update:value","click:close","click:confirm"],setup(ie,{emit:R}){const j=ie,E=fe(),A=ge.getAuth(),m=h(!1),o=h(),y=h({}),P=h([]),M=h(""),C=h(!1),D=h();D.value={release_date:{required:!0,message:"Tanggal tidak boleh kosong",trigger:["input","blur"]},reason:{required:!0,message:"Alasan tidak boleh kosong",trigger:["input","blur"]},imageList:{type:"array",required:!0,message:"Bukti tidak boleh kosong",trigger:["input","blur"]}},Qe(y,u=>R("update:value",u),{deep:!0}),he(()=>{y.value=j.value}),Ee(()=>{y.value=j.value});function L(u){const{url:f}=u;M.value=f,C.value=!0}function b(u){P.value=P.value.filter(function(f){return f.id!==u.file.id})}function G(u){var v;return["image/png","image/jpeg"].indexOf(String((v=u.file.file)==null?void 0:v.type))===-1?(E.error("Format gambar harus png atau jpg, tolong upload ulang"),!1):!0}function ae({file:u,onFinish:f}){m.value=!0;const v=new FormData;v.append("file",u.file),v.append("source","upload"),v.append("title",u.name),v.append("caption",u.name),v.append("alt",u.name),Xe.uploadStorage(v).then(c=>{c.data.status===200&&(P.value.push({id:c.data.data.id,name:c.data.data.title,status:"finished",url:c.data.data.public_url}),m.value=!1,f())})}async function ne(){var u;y.value.imageList=P.value,await((u=o.value)==null?void 0:u.validate().then(()=>{R("click:confirm",!0),R("update:value",y.value)}).catch(()=>{E.error("Form tidak valid, tolong periksa kembali")}))}function H(){R("click:close",!1),y.value={},P.value=[]}return(u,f)=>{const v=ye,c=ve,w=ke,I=be,le=we,Z=st,O=Ge,Y=Oe,ee=xe,W=Je,oe=He,te=Ye,q=ze,r=We;return k(),$(J,null,[e(r,{"mask-closable":!1,show:u.show,preset:"card",role:"dialog",size:"huge",title:"Pending Rilis",bordered:!1,style:{width:"900px","max-width":"100%","border-radius":"10px"},"header-style":{paddingLeft:"30px",paddingRight:"30px"},"content-style":{paddingLeft:"20px",paddingRight:"20px",paddingBottom:"20px"},"onUpdate:show":H},{default:t(()=>[e(te,{"x-scrollable":"",style:{height:"450px"}},{default:t(()=>[e(w,{vertical:"",size:14,style:{"padding-left":"10px","padding-right":"10px"}},{default:t(()=>[e(v,{style:{"font-size":"16px","margin-bottom":"0"}},{default:t(()=>[n("No PK : "+d(j.detailData.pk_id),1)]),_:1}),e(le,{cols:"4","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:t(()=>[e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Kode Produk ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>{var K;return[n(d((K=u.detailData.product)==null?void 0:K.item_code),1)]}),_:1})]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Nama Produk ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>{var K;return[n(d((K=u.detailData.product)==null?void 0:K.long_name),1)]}),_:1})]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" No Batch Produksi ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(u.detailData.batch_number),1)]),_:1})]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Nama QA ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(a(A).xxtype=="ju5tU53r"?a(A).users.name:a(A).user.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,{ref_key:"formRef",ref:o,class:"form-tnt","show-require-mark":!1,"label-width":80,model:a(y),rules:a(D)},{default:t(()=>[e(O,{label:"Pending Tanggal Rilis ke",path:"release_date"},{default:t(()=>[e(Z,{"formatted-value":a(y).release_date,"onUpdate:formattedValue":f[0]||(f[0]=K=>a(y).release_date=K),"value-format":"yyyy-MM-dd",type:"date",placeholder:"Tentukan Tanggal",style:{width:"100%"}},null,8,["formatted-value"])]),_:1}),e(O,{label:"Alasan Pending",path:"reason"},{default:t(()=>[e(Y,{value:a(y).reason,"onUpdate:value":f[1]||(f[1]=K=>a(y).reason=K),placeholder:"Masukkan Alasan"},null,8,["value"])]),_:1}),e(O,{label:"Upload Bukti",path:"imageList"},{default:t(()=>[a(m)?(k(),V(w,{key:1,size:8},{default:t(()=>[e(W,{height:"90px",width:"96px"}),e(W,{height:"90px",width:"96px"})]),_:1})):(k(),V(ee,{key:0,action:"","default-file-list":a(P),"list-type":"image-card",onPreview:L,onRemove:b,onBeforeUpload:G,"custom-request":ae},null,8,["default-file-list"]))]),_:1}),e(c,{style:{"font-size":"10px"}},{default:t(()=>[n("file dengan format JPG, JPEG, PNG ukuran maksimal file tidak boleh lebih dari 2MB")]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1}),e(w,{justify:"center",size:"large",style:{"padding-top":"20px"}},{default:t(()=>[e(q,{loading:a(m),color:"#828282",class:"button-tnt",style:{padding:"1rem 2rem"},onClick:H},{default:t(()=>[n("Batalkan")]),_:1},8,["loading"]),e(q,{loading:a(m),class:"button-tnt",type:"primary",style:{padding:"1rem 2rem"},onClick:Se(ne,["prevent"])},{default:t(()=>[n("Konfirmasi")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["show"]),e(r,{show:a(C),"onUpdate:show":f[2]||(f[2]=K=>re(C)?C.value=K:null),preset:"card",style:{width:"600px"},title:""},{default:t(()=>[s("img",{src:a(M),style:{width:"100%"}},null,8,gt)]),_:1},8,["show"])],64)}}}),yt=["src"],vt=me({__name:"t-reject-modal",props:{show:{type:Boolean,default:!1},value:{default:()=>({})},level:{default:1},detailData:{default:()=>({})},selectedData:{default:()=>[]},title:{}},emits:["update:show","update:value","click:close","click:confirm"],setup(ie,{emit:R}){const j=ie,E=fe(),A=ge.getAuth(),m=h(!1),o=h(),y=h({}),P=h([]),M=h(""),C=h(!1),D=h();D.value={reason:{required:!0,message:"Alasan tidak boleh kosong",trigger:["input","blur"]},imageList:{type:"array",required:!0,message:"Bukti tidak boleh kosong",trigger:["input","blur"]}},Qe(y,u=>R("update:value",u),{deep:!0}),he(()=>{y.value=j.value}),Ee(()=>{y.value=j.value});function L(u){const{url:f}=u;M.value=f,C.value=!0}function b(u){P.value=P.value.filter(function(f){return f.id!==u.file.id})}function G(u){var v;return["image/png","image/jpeg"].indexOf(String((v=u.file.file)==null?void 0:v.type))===-1?(E.error("Format gambar harus png atau jpg, tolong upload ulang"),!1):!0}function ae({file:u,onFinish:f}){m.value=!0;const v=new FormData;v.append("file",u.file),v.append("source","upload"),v.append("title",u.name),v.append("caption",u.name),v.append("alt",u.name),Xe.uploadStorage(v).then(c=>{c.data.status===200&&(P.value.push({id:c.data.data.id,name:c.data.data.title,status:"finished",url:c.data.data.public_url}),m.value=!1,f())}).catch(c=>{m.value=!1;const w=c.response.data;E.error(w.message)})}async function ne(){var u;y.value.imageList=P.value,await((u=o.value)==null?void 0:u.validate().then(()=>{R("click:confirm",!0),R("update:value",y.value)}).catch(()=>{E.error("Form tidak valid, tolong periksa kembali")}))}function H(){R("click:close",!1),y.value={},P.value=[]}return(u,f)=>{const v=ye,c=ve,w=ke,I=be,le=we,Z=Oe,O=Ge,Y=xe,ee=Je,W=He,oe=Ye,te=ze,q=We;return k(),$(J,null,[e(q,{"mask-closable":!1,show:u.show,preset:"card",role:"dialog",size:"huge",title:"Reject Rilis",bordered:!1,style:{width:"900px","max-width":"100%","border-radius":"10px"},"header-style":{paddingLeft:"30px",paddingRight:"30px"},"content-style":{paddingLeft:"20px",paddingRight:"20px",paddingBottom:"20px"},"onUpdate:show":H},{default:t(()=>[e(oe,{"x-scrollable":"",style:{height:"450px"}},{default:t(()=>[e(w,{vertical:"",size:14,style:{"padding-left":"10px","padding-right":"10px"}},{default:t(()=>[e(v,{style:{"font-size":"16px","margin-bottom":"0"}},{default:t(()=>[n("No PK : "+d(j.detailData.pk_id),1)]),_:1}),e(le,{cols:"4","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:t(()=>[e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:15},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Kode Produk ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>{var r;return[n(d((r=u.detailData.product)==null?void 0:r.item_code),1)]}),_:1})]),_:1}),B("",!0)]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Nama Produk ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>{var r;return[n(d((r=u.detailData.product)==null?void 0:r.long_name),1)]}),_:1})]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" No Batch Produksi ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(u.detailData.batch_number),1)]),_:1})]),_:1})]),_:1}),e(I,{span:"3 m:1"},{default:t(()=>[e(w,{vertical:"",size:0},{default:t(()=>[e(c,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Nama QA ")]),_:1}),e(c,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(a(A).xxtype=="ju5tU53r"?a(A).users.name:a(A).user.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{ref_key:"formRef",ref:o,class:"form-tnt","show-require-mark":!1,"label-width":80,model:a(y),rules:a(D)},{default:t(()=>[e(O,{label:"Alasan Reject",path:"reason"},{default:t(()=>[e(Z,{value:a(y).reason,"onUpdate:value":f[0]||(f[0]=r=>a(y).reason=r),placeholder:"Masukkan Alasan"},null,8,["value"])]),_:1}),e(O,{label:"Upload Bukti",path:"imageList"},{default:t(()=>[a(m)?(k(),V(w,{key:1,size:8},{default:t(()=>[e(ee,{height:"90px",width:"96px"}),e(ee,{height:"90px",width:"96px"})]),_:1})):(k(),V(Y,{key:0,action:"","default-file-list":a(P),"list-type":"image-card",onPreview:L,onRemove:b,onBeforeUpload:G,"custom-request":ae},null,8,["default-file-list"]))]),_:1})]),_:1},8,["model","rules"]),e(c,{style:{"font-size":"10px"}},{default:t(()=>[n("file dengan format JPG, JPEG, PNG ukuran maksimal file tidak boleh lebih dari 2MB")]),_:1})]),_:1})]),_:1}),e(w,{justify:"center",size:"large",style:{"padding-top":"20px"}},{default:t(()=>[e(te,{loading:a(m),color:"#828282",class:"button-tnt",style:{padding:"1rem 2rem"},onClick:H},{default:t(()=>[n("Batalkan")]),_:1},8,["loading"]),e(te,{loading:a(m),class:"button-tnt",type:"primary",style:{padding:"1rem 2rem"},onClick:Se(ne,["prevent"])},{default:t(()=>[n("Konfirmasi")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["show"]),e(q,{show:a(C),"onUpdate:show":f[1]||(f[1]=r=>re(C)?C.value=r:null),preset:"card",style:{width:"600px"},title:""},{default:t(()=>[s("img",{src:a(M),style:{width:"100%"}},null,8,yt)]),_:1},8,["show"])],64)}}}),kt={class:"body-tnt"},bt={key:0,class:"card-tnt"},wt={class:"card-tnt"},xt={class:"table-tnt",style:{"margin-top":"1.5rem"}},zt=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"center",width:"16%"}},"Qty Item PK (a)"),s("th",{style:{"text-align":"center",width:"16%"}},"Qty Tambahan (b)"),s("th",{style:{"text-align":"center",width:"16%"}},"Qty Void (c)"),s("th",{style:{"text-align":"center",width:"16%"}},"Qty Rilis (a + b - c)")])],-1),Ct={style:{"text-align":"center"}},Pt={style:{"text-align":"center"}},Dt={style:{"text-align":"center"}},Bt={style:{"text-align":"center"}},Rt={class:"table-tnt",style:{"margin-top":"1.5rem"}},jt=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"center",width:"20%"}},"Total Semua"),s("th",{style:{"text-align":"center",width:"20%"}},"Total Pass"),s("th",{style:{"text-align":"center",width:"20%"}},"Total Void")])],-1),Tt={style:{"text-align":"center"}},Mt={style:{"text-align":"center"}},Nt={style:{"text-align":"center"}},Ut={style:{"margin-top":"1.5rem"}},Lt={style:{"font-weight":"500"}},Kt={style:{"font-weight":"500"}},Vt={style:{"font-weight":"500"}},qt={style:{"font-weight":"500"}},$t={style:{"font-weight":"500"}},At={style:{"font-weight":"500"}},It={key:0,class:"table-tnt",style:{"margin-top":"1.5rem"}},Ft=s("thead",null,[s("tr",null,[s("th",null,"No PK"),s("th",null,"Tanggal"),s("th",null,"Kode Produk"),s("th",null,"Nama Produk"),s("th",null,"No. Batch"),s("th",{style:{"text-align":"center"}},"Qty Level Terendah"),s("th",{style:{"text-align":"center"}},"Status")])],-1),Qt={style:{"text-align":"center"}},Et={style:{"text-align":"center"}};const St={style:{"margin-top":"1rem"}};const Gt={class:"bottom-action-button"},Ot={class:"action-item"},Jt=s("span",{style:{"margin-left":"5px"}},"Kembali",-1),da=me({__name:"index",setup(ie){const R=it(),j=fe(),E=ge.getAuth(),A=h(!1),m=h(!1),o=h({}),y=h({}),P=h({}),M=h([]),C=h({show:!1,title:"",subtitle:"",form:{}}),D=h({show:!1,title:"",subtitle:"",form:{}}),L=h({show:!1,title:"",subtitle:"",form:{}}),b=h({show:!1,title:"",subtitle:"",type:""});he(()=>{G()});async function G(){A.value=!0,H(),await ne(),await ae(),A.value=!1}async function ae(){const _=R.params.id;await X.getDetailChecking(_).then(l=>{o.value=l.data}).catch(l=>{const g=l.response.data;j.error(g.message)})}async function ne(){const _=R.params.id;await X.getDetailCheckingProduct(_).then(l=>{y.value=l.data}).catch(l=>{const g=l.response.data;j.error(g.message)})}async function H(){const _={limit:5,parent_id:R.params.id};await X.getBonList(_).then(l=>{P.value=l.data}).catch(l=>{const g=l.response.data;j.error(g.message)})}function u(_){let l=0;return _.forEach(g=>{l+=g.qty}),l}function f(_){let l=0;return _.forEach(g=>{l+=g.checking.total_qty_passed}),l}function v(_){let l=0;return _.forEach(g=>{l+=g.total_void}),l}function c(){C.value.show=!0}function w(){C.value.show=!1}function I(){m.value=!0;const _=R.params.id,l=new FormData;C.value.form.imageList.forEach(g=>{l.append("media_id[]",g.id)}),l.append("reason",C.value.form.reason),X.rejectChecking(_,l).then(()=>{m.value=!1,q(),w(),G(),C.value.form={},setTimeout(()=>{r.value.title="Berhasil Reject",r.value.subtitle=o.value.pk_id+" berhasil direject",ce("success-reject")},300)}).catch(g=>{m.value=!1;const S=g.response.data;j.error(S.message)})}function le(){D.value.show=!0}function Z(){D.value.show=!1}function O(){m.value=!0;const _=R.params.id,l=new FormData;D.value.form.imageList.forEach(g=>{l.append("media_id[]",g.id)}),l.append("reason",D.value.form.reason),l.append("release_date",D.value.form.release_date),X.pendingChecking(_,l).then(()=>{m.value=!1,q(),Z(),G(),D.value.form={},setTimeout(()=>{r.value.title="Berhasil Melakukan Pending",r.value.subtitle=o.value.pk_id+" berhasil pending rilis",ce("success-pending")},300)}).catch(g=>{m.value=!1;const S=g.response.data;j.error(S.message)})}function Y(_){_==="reject"?(b.value.type=_,b.value.title="Konfirmasi Reject",b.value.subtitle=`Apakah Anda yakin untuk melakukan reject ${o.value.pk_id}`,b.value.show=!0):_==="pending"?(b.value.type=_,b.value.title="Konfirmasi Pending",b.value.subtitle=`Apakah Anda yakin untuk melakukan pending ${o.value.pk_id}`,b.value.show=!0):_==="reception"&&(b.value.type=_,b.value.title="Konfirmasi Rilis",b.value.subtitle=`Apakah Anda yakin untuk melakukan rilis ${o.value.pk_id}`,b.value.show=!0)}function ee(){L.value.show=!0}function W(){L.value.show=!1}function oe(){m.value=!0;const _=o.value.id,l=new FormData;l.append("warehouse_building_id",L.value.form.building),X.releaseChecking(_,l).then(async()=>{await te(),m.value=!1,q(),W(),G(),L.value.form={},setTimeout(()=>{r.value.title="Berhasil Rilis",r.value.subtitle=o.value.pk_id+" berhasil dirilis",ce("success")},300)}).catch(g=>{m.value=!1;const S=g.response.data;j.error(S.message)})}async function te(){const _=o.value.id,l=new FormData;l.append("warehouse_building_id",L.value.form.building),X.receptionPKChecking(_,l).catch(g=>{m.value=!1;const S=g.response.data;j.error(S.message)})}function q(){b.value.show=!1}const r=h({show:h(!1),type:"",icon:dt(),iconColor:"",hideIcon:!1,title:"",subtitle:"",align:"center"});function K(){r.value.show=!1}function ce(_){r.value.type=_,r.value.hideIcon=!1,r.value.iconColor="#219653",r.value.icon=ft,r.value.show=!0}return(_,l)=>{var De,Be,Re,je,Te,Me,Ne,Ue,Le,Ke,Ve,qe;const g=ye,S=pt,Ce=rt,z=ke,p=ve,de=be,Ze=we,_e=ct,Ht=xe,N=ze,et=_t,pe=ut("router-link"),tt=vt,at=ht,nt=ot,Pe=lt;return k(),$(J,null,[s("div",kt,[e(g,{style:{"font-size":"22px","margin-bottom":"0"}},{default:t(()=>[n(" Rilis ")]),_:1}),a(A)?(k(),$("div",bt,[e(S)])):(k(),V(z,{key:1,vertical:"",size:0},{default:t(()=>{var x,$e;return[s("div",wt,[e(z,{justify:"space-between"},{default:t(()=>[e(g,{style:{"margin-bottom":"16px"}},{default:t(()=>[n("No PK : "+d(a(o).pk_id),1)]),_:1}),e(Ce,{type:"success",bordered:!1,round:""},{default:t(()=>{var i,T;return[n(d(_.$filters.toStatus((T=(i=a(o).status)==null?void 0:i.global)==null?void 0:T.value)),1)]}),_:1})]),_:1}),e(Ze,{cols:"4","item-responsive":"",responsive:"screen","x-gap":"16","y-gap":"16"},{default:t(()=>[e(de,{span:"3 m:1"},{default:t(()=>[e(z,{vertical:"",size:15},{default:t(()=>[e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Kode Produk ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var i;return[n(d((i=a(o).product)==null?void 0:i.item_code),1)]}),_:1})]),_:1}),e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Tanggal Manufaktur ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var i;return[n(d(a(ue)((i=a(o).date)==null?void 0:i.manufacture_date).format("yyyy-MM-DD")),1)]}),_:1})]),_:1}),e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" User QA ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(a(E).xxtype=="ju5tU53r"?a(E).users.name:a(E).user.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(de,{span:"3 m:1"},{default:t(()=>[e(z,{vertical:"",size:15},{default:t(()=>[e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Nama Produk ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var i;return[n(d((i=a(o).product)==null?void 0:i.long_name),1)]}),_:1})]),_:1}),e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Exp. Date ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var i;return[n(d(a(ue)((i=a(o).date)==null?void 0:i.expired_date).format("yyyy-MM-DD")),1)]}),_:1})]),_:1}),e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Outer Packaging ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(a(o).serialize?a(o).serialize[a(o).serialize.length-1].name:[]),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(de,{span:"3 m:1"},{default:t(()=>[e(z,{vertical:"",size:15},{default:t(()=>{var i,T,U,F;return[e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" No Batch Produksi ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(a(o).batch_number),1)]),_:1})]),_:1}),e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" HET (Harga Eceran Tertinggi) ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>[n(d(_.$filters.toRupiah(a(y).highest_retail_price)),1)]),_:1})]),_:1}),(i=a(o))!=null&&i.status&&((F=(U=(T=a(o))==null?void 0:T.status)==null?void 0:U.global)==null?void 0:F.value)==="released"?(k(),V(z,{key:0,vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Tempat Penyimpanan ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var Q,se,Ae,Ie;return[n(d(((se=(Q=a(o).allocation)==null?void 0:Q.warehouse)==null?void 0:se.name)+" / "+((Ie=(Ae=a(o).allocation)==null?void 0:Ae.building)==null?void 0:Ie.name)),1)]}),_:1})]),_:1})):B("",!0)]}),_:1})]),_:1}),e(de,{span:"3 m:1"},{default:t(()=>[e(z,{vertical:"",size:15},{default:t(()=>{var i,T,U,F;return[e(z,{vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" UOM ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var Q;return[n(d((Q=a(y).uom)==null?void 0:Q.name),1)]}),_:1})]),_:1}),(i=a(o))!=null&&i.status&&((F=(U=(T=a(o))==null?void 0:T.status)==null?void 0:U.global)==null?void 0:F.value)==="released"?(k(),V(z,{key:0,vertical:"",size:0},{default:t(()=>[e(p,{style:{"margin-bottom":"0","font-weight":"600"}},{default:t(()=>[n(" Tanggal Rilis ")]),_:1}),e(p,{style:{"margin-bottom":"0"}},{default:t(()=>{var Q;return[n(d(a(ue)((Q=a(o).date)==null?void 0:Q.released_at).format("yyyy-MM-DD")),1)]}),_:1})]),_:1})):B("",!0)]}),_:1})]),_:1})]),_:1}),s("div",xt,[e(_e,{"single-line":!1},{default:t(()=>{var i,T,U,F,Q,se;return[zt,s("tbody",null,[s("tr",null,[s("td",Ct,d(a(o).serialize?(i=a(o).serialize[0])==null?void 0:i.qty:0),1),s("td",Pt,d(a(o).serialize?(T=a(o).serialize[0])==null?void 0:T.total_additional:0),1),s("td",Dt,d(a(o).serialize?(U=a(o).serialize[0])==null?void 0:U.total_void:0),1),s("td",Bt,d(a(o).serialize?((F=a(o).serialize[0])==null?void 0:F.qty)+((Q=a(o).serialize[0])==null?void 0:Q.total_additional)-((se=a(o).serialize[0])==null?void 0:se.total_void):0),1)])])]}),_:1})]),s("div",Rt,[e(_e,{"single-line":!1},{default:t(()=>[jt,s("tbody",null,[s("tr",null,[s("td",Tt,d(a(o).serialize?u(a(o).serialize):0),1),s("td",Mt,d(a(o).serialize?f(a(o).serialize):0),1),s("td",Nt,d(a(o).serialize?v(a(o).serialize):0),1)])])]),_:1})]),s("div",Ut,[e(z,null,{default:t(()=>[(k(!0),$(J,null,Fe(a(o).serialize,(i,T)=>(k(),$("div",{key:T,class:"card-tnt",style:{width:"12rem",border:"1px solid #E5E5E5","margin-top":"0",padding:"8px"}},[e(z,{vertical:"",size:0,style:{"text-align":"left"}},{default:t(()=>[e(p,{style:{"font-size":"18px"}},{default:t(()=>[n("Level "+d(i.level),1)]),_:2},1024),e(p,null,{default:t(()=>[n(" Qty Generate : "),s("span",Lt,d(i==null?void 0:i.qty),1)]),_:2},1024),e(p,null,{default:t(()=>[n(" Qty Tambahan : "),s("span",Kt,d(i==null?void 0:i.total_additional),1)]),_:2},1024),e(p,null,{default:t(()=>{var U;return[n(" Qty Pass : "),s("span",Vt,d((U=i==null?void 0:i.checking)==null?void 0:U.total_qty_passed),1)]}),_:2},1024),e(p,null,{default:t(()=>[n(" Qty Void Print: "),s("span",qt,d(i==null?void 0:i.total_print_void),1)]),_:2},1024),e(p,null,{default:t(()=>[n(" Qty Void Pengemasan: "),s("span",$t,d(i==null?void 0:i.total_package_void),1)]),_:2},1024),e(p,null,{default:t(()=>[n(" Qty Void Pengecekan: "),s("span",At,d(i==null?void 0:i.total_check_void),1)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),(($e=(x=a(P))==null?void 0:x.list)==null?void 0:$e.length)>0?(k(),$("div",It,[e(p,{style:{"font-weight":"600"}},{default:t(()=>[n("Bon List")]),_:1}),e(_e,{"single-line":!1,style:{"margin-top":"5px"}},{default:t(()=>[Ft,s("tbody",null,[(k(!0),$(J,null,Fe(a(P).list,(i,T)=>(k(),$("tr",{key:T},[s("td",null,d(i.pk_id),1),s("td",null,d(a(ue)(i.created_at).format("yyyy-MM-DD")),1),s("td",null,d(i.product.item_code),1),s("td",null,d(i.product.short_name),1),s("td",null,d(i.batch_number),1),s("td",Qt,d(i.serialize?i.serialize[0].qty:0),1),s("td",Et,[e(Ce,{type:"success",bordered:!1,round:""},{default:t(()=>{var U,F;return[n(d((U=i.status.global)!=null&&U.value?(F=i.status.global)==null?void 0:F.value:"-"),1)]}),_:2},1024)])]))),128))])]),_:1})])):B("",!0),B("",!0),s("div",St,[B("",!0),B("",!0),e(N,{type:"primary",style:{"margin-top":"1rem"},class:"button-tnt",onClick:l[0]||(l[0]=i=>_.$router.push({name:"produksi-pengecekan-tahap2-id-preview"})),ghost:""},{default:t(()=>[n(" Preview ")]),_:1})])])]}),_:1})),s("div",Gt,[s("div",Ot,[e(pe,{to:{name:"produksi-pengecekan-tahap2"},class:"text-decoration-none"},{default:t(()=>[e(N,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:t(()=>[e(et,{component:a(mt)},null,8,["component"]),Jt]),_:1})]),_:1}),(De=a(o))!=null&&De.status&&((je=(Re=(Be=a(o))==null?void 0:Be.status)==null?void 0:Re.global)==null?void 0:je.value)!=="released"?(k(),V(N,{key:0,type:"error",class:"button-tnt",style:{width:"120px"},onClick:c},{default:t(()=>[n(" Reject ")]),_:1})):B("",!0),(Te=a(o))!=null&&Te.status&&((Ue=(Ne=(Me=a(o))==null?void 0:Me.status)==null?void 0:Ne.global)==null?void 0:Ue.value)!=="released"?(k(),V(N,{key:1,type:"warning",class:"button-tnt",style:{width:"120px"},onClick:le},{default:t(()=>[n(" Pending ")]),_:1})):B("",!0),(Le=a(o))!=null&&Le.status&&((qe=(Ve=(Ke=a(o))==null?void 0:Ke.status)==null?void 0:Ve.global)==null?void 0:qe.value)!=="released"?(k(),V(N,{key:2,type:"primary",class:"button-tnt",style:{width:"120px"},onClick:ee},{default:t(()=>[n(" Rilis ")]),_:1})):B("",!0)])])]),e(tt,{show:a(C).show,value:a(C).form,"onUpdate:value":l[1]||(l[1]=x=>a(C).form=x),"detail-data":a(o),"selected-data":a(M),"onUpdate:selectedData":l[2]||(l[2]=x=>re(M)?M.value=x:null),title:a(C).title,"onClick:close":w,"onClick:confirm":l[3]||(l[3]=x=>Y("reject"))},null,8,["show","value","detail-data","selected-data","title"]),e(at,{show:a(D).show,value:a(D).form,"onUpdate:value":l[4]||(l[4]=x=>a(D).form=x),"detail-data":a(o),"selected-data":a(M),"onUpdate:selectedData":l[5]||(l[5]=x=>re(M)?M.value=x:null),title:a(D).title,"onClick:close":Z,"onClick:confirm":l[6]||(l[6]=x=>Y("pending"))},null,8,["show","value","detail-data","selected-data","title"]),e(nt,{show:a(L).show,value:a(L).form,"onUpdate:value":l[7]||(l[7]=x=>a(L).form=x),"detail-data":a(o),"selected-data":a(M)[0],"onUpdate:selectedData":l[8]||(l[8]=x=>a(M)[0]=x),title:a(L).title,"onClick:close":W,"onClick:confirm":l[9]||(l[9]=x=>Y("reception"))},null,8,["show","value","detail-data","selected-data","title"]),e(Pe,{show:a(b).show,"onUpdate:show":l[10]||(l[10]=x=>a(b).show=x),title:a(b).title,subtitle:a(b).subtitle,hideIcon:""},{default:t(()=>[e(z,{justify:"center"},{default:t(()=>[a(b).type==="reject"?(k(),$(J,{key:0},[e(N,{loading:a(m),color:"#828282",class:"button-tnt",onClick:q},{default:t(()=>[n("Batalkan")]),_:1},8,["loading"]),e(N,{loading:a(m),type:"primary",class:"button-tnt",onClick:I},{default:t(()=>[n("Yakin")]),_:1},8,["loading"])],64)):B("",!0),a(b).type==="pending"?(k(),$(J,{key:1},[e(N,{loading:a(m),color:"#828282",class:"button-tnt",onClick:q},{default:t(()=>[n("Batalkan")]),_:1},8,["loading"]),e(N,{loading:a(m),type:"primary",class:"button-tnt",onClick:O},{default:t(()=>[n("Yakin")]),_:1},8,["loading"])],64)):B("",!0),a(b).type==="reception"?(k(),$(J,{key:2},[e(N,{loading:a(m),color:"#828282",class:"button-tnt",onClick:q},{default:t(()=>[n("Batalkan")]),_:1},8,["loading"]),e(N,{loading:a(m),type:"primary",class:"button-tnt",onClick:oe},{default:t(()=>[n("Yakin")]),_:1},8,["loading"])],64)):B("",!0)]),_:1})]),_:1},8,["show","title","subtitle"]),e(Pe,{show:a(r).show,"onUpdate:show":l[11]||(l[11]=x=>a(r).show=x),icon:a(r).icon,"hide-icon":a(r).hideIcon,title:a(r).title,subtitle:a(r).subtitle,align:a(r).align},{default:t(()=>[a(r).type=="success"?(k(),V(N,{key:0,color:"#828282",class:"button-tnt",onClick:K},{default:t(()=>[n(" Tutup ")]),_:1})):B("",!0),a(r).type=="success-pending"?(k(),V(pe,{key:1,to:{name:"produksi-pengecekan-tahap1"},class:"text-decoration-none"},{default:t(()=>[e(N,{color:"#219653",class:"button-tnt"},{default:t(()=>[n(" Kembali Ke Tahap 1 ")]),_:1})]),_:1})):B("",!0),a(r).type=="success-reject"?(k(),V(pe,{key:2,to:{name:"produksi-pengecekan-tahap2"},class:"text-decoration-none"},{default:t(()=>[e(N,{color:"#219653",class:"button-tnt"},{default:t(()=>[n(" Kembali Ke Beranda ")]),_:1})]),_:1})):B("",!0)]),_:1},8,["show","icon","hide-icon","title","subtitle","align"])],64)}}});export{da as default};
