import{d as D,E as K,r as p,G as j,f as z,aI as W,o as s,h as i,w as t,k as n,i as a,j as k,q as g,H as F,ak as G,I as H,ad as J,b0 as L,bv as O,v as S,ae as A,J as Q,K as X,L as Y,M as Z}from"./index.21c0d750.js";const ae=D({__name:"add-rack",props:{show:{type:Boolean,default:!1},value:{default:()=>({})},loading:{type:Boolean,default:!1}},emits:["update:show","update:value","click:save"],setup(M,{expose:U,emit:d}){const v=M,C=K();U({handleCancelCrudRack:w,handleChangeTypeModal:q});const f=p(null),e=p({volume:0,warning_max_capacity:0}),R=p([{label:"Rack",value:"rack"},{label:"Pallete",value:"pallete"}]),c=p("create"),b=p();b.value={rack_pallete_kind:{required:!0,message:"Tipe tidak boleh kosong",trigger:"blur"},rack_pallete_name:{required:!0,message:"Nama rack tidak boleh kosong",trigger:"blur"},rack_pallete_erp_code:{required:!0,message:"Kode ERP tidak boleh kosong",trigger:"blur"},rack_pallete_id:{required:!0,message:"ID pallete tidak boleh kosong",trigger:"blur"},warning_max_capacity:{required:!0,validator(u,l){return Number(l)<0?new Error("warning_max_capacity harus lebih dari 0%"):Number(l)>100?new Error("warning_max_capacity harus kurang dari 100%"):!0},trigger:["input","blur"]}};function w(){d("update:value",{}),e.value={volume:0,warning_max_capacity:0},c.value="create",d("update:show",!1)}async function N(u){var l;u.preventDefault(),await((l=f.value)==null?void 0:l.validate().then(()=>{d("click:save",e.value)}).catch(()=>{C.error("Form tidak valid, tolong periksa kembali")}))}function q(){c.value="update"}function T(u){return`${u}%`}return j(e,u=>d("update:value",u),{deep:!0}),z(()=>{e.value=v.value,e.value.volume===null&&(e.value.volume=0),e.value.warning_max_capacity===null&&(e.value.warning_max_capacity=0)}),W(()=>{e.value=v.value}),(u,l)=>{const E=F,m=G,r=H,_=J,h=L,P=O,y=S,B=A,I=Q,x=X,V=Y,$=Z;return s(),i($,{"mask-closable":!1,show:u.show,"onUpdate:show":l[8]||(l[8]=o=>u.$emit("update:show",o))},{default:t(()=>[n(V,{style:{width:"600px","max-width":"100%","--n-border-radius":"10px"},bordered:!1,size:"huge",role:"dialog",title:"Warehouse Rack/Pallete","aria-modal":"true"},{default:t(()=>[n(I,{ref_key:"formRef",ref:f,model:a(e),class:"form-tnt",rules:a(b),"show-require-mark":!1},{default:t(()=>[n(r,{path:"rack_pallete_kind",label:"Pilih Tipe"},{default:t(()=>[a(c)=="create"?(s(),i(E,{key:0,value:a(e).rack_pallete_kind,"onUpdate:value":l[0]||(l[0]=o=>a(e).rack_pallete_kind=o),options:a(R)},null,8,["value","options"])):k("",!0),a(c)=="update"?(s(),i(m,{key:1,readonly:"",value:a(e).rack_pallete_kind,"onUpdate:value":l[1]||(l[1]=o=>a(e).rack_pallete_kind=o),placeholder:"Tipe"},null,8,["value"])):k("",!0)]),_:1}),a(e).rack_pallete_kind?(s(),i(B,{key:0,cols:"2","item-responsive":"",responsive:"screen","x-gap":16,"y-gap":0},{default:t(()=>[n(_,{span:"2 m:1"},{default:t(()=>[n(r,{path:"rack_pallete_name",label:"Nama "+a(e).rack_pallete_kind},{default:t(()=>[n(m,{value:a(e).rack_pallete_name,"onUpdate:value":l[2]||(l[2]=o=>a(e).rack_pallete_name=o),placeholder:"Masukkan Nama "+a(e).rack_pallete_kind},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),n(_,{span:"2 m:1"},{default:t(()=>[n(r,{path:"rack_pallete_erp_code",label:"Kode ERP "+a(e).rack_pallete_kind},{default:t(()=>[n(m,{value:a(e).rack_pallete_erp_code,"onUpdate:value":l[3]||(l[3]=o=>a(e).rack_pallete_erp_code=o),placeholder:"Masukkan kode ERP "+a(e).rack_pallete_kind},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),a(e).rack_pallete_kind=="pallete"?(s(),i(_,{key:0,span:"2 m:1"},{default:t(()=>[n(r,{path:"rack_pallete_id",label:"ID "+a(e).rack_pallete_kind},{default:t(()=>[n(m,{value:a(e).rack_pallete_id,"onUpdate:value":l[4]||(l[4]=o=>a(e).rack_pallete_id=o),placeholder:"Masukkan ID "+a(e).rack_pallete_kind},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})):k("",!0),n(_,{span:"2 m:1"},{default:t(()=>[n(r,{label:"Volume"},{default:t(()=>[n(h,{"show-button":!1,value:a(e).volume,"onUpdate:value":l[5]||(l[5]=o=>a(e).volume=o),placeholder:"Masukkan Volume",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),n(_,{span:"2 m:2"},{default:t(()=>[n(r,{label:"Warning Max Kapasitas",path:"warning_max_capacity"},{default:t(()=>[n(y,{vertical:"",style:{width:"50%"}},{default:t(()=>[n(P,{value:a(e).warning_max_capacity,"onUpdate:value":l[6]||(l[6]=o=>a(e).warning_max_capacity=o),step:1,"format-tooltip":T},null,8,["value"]),n(h,{size:"small","show-button":!1,value:a(e).warning_max_capacity,"onUpdate:value":l[7]||(l[7]=o=>a(e).warning_max_capacity=o),placeholder:"",style:{width:"100%"}},{suffix:t(()=>[g(" % ")]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1},8,["model","rules"]),n(y,{justify:"center"},{default:t(()=>[n(x,{loading:u.loading,color:"#828282",class:"button-tnt",onClick:w},{default:t(()=>[g("Batalkan")]),_:1},8,["loading"]),n(x,{loading:u.loading,color:"#219653",class:"button-tnt",onClick:N},{default:t(()=>[g("Simpan")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["show"])}}});export{ae as _};
