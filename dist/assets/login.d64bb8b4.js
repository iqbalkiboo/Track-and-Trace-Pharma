import{d as R,u as B,E,r as o,o as A,c as K,k as e,w as a,q as g,i as n,P as M,h as T,j as V,al as q,F as D,e as f,aF as H,aG as O,ac as G,v as S,ad as U,R as J,aH as $,N as Q,ak as W,I as X,K as Y,J as Z,ae as ee,a4 as z}from"./index.21c0d750.js";import{P as ne,L as ae,A as I,a as te}from"./logo-grey.0b7ff7c6.js";const se=R({__name:"login",setup(oe){const L=B(),p=E(),h=o(),l=o(!1),y=o(null),w=o();w.value={email:{required:!0,message:"Email tidak boleh kosong",trigger:["blur","change"]},password:{required:!0,message:"Password tidak boleh kosong",trigger:["blur","change"]}};const t=o({email:"",password:""}),_=o({});async function v(){var s;await((s=y.value)==null?void 0:s.validate()),l.value=!0;const i=new FormData;i.append("email",t.value.email),i.append("password",t.value.password),f.login(i).then(async u=>{h.value=f.getAuth(),await H.isAllowedIn(h.value.users.user_type.kind)?(p.success("Berhasil Login"),setTimeout(()=>{L.push({name:"index"}),l.value=!1},2e3)):(p.error("Maaf akun Anda tidak diperbolehkan untuk login"),f.logout(),l.value=!1)}).catch(u=>{const r=u.response.data;_.value.message=r.message,p.error(r.message),l.value=!1})}return(i,s)=>{const u=O,r=G,d=S,k=U,c=J,N=$,b=Q,x=W,C=X,j=Y,F=Z,P=ee;return A(),K(D,null,[e(P,{id:"login",cols:"2","item-responsive":"",responsive:"screen"},{default:a(()=>[e(k,{span:"2 s:1",style:{position:"relative","background-color":"#0b8f9d"}},{default:a(()=>[e(d,{vertical:"",justify:"center",style:{height:"100%",padding:"0 2rem"}},{default:a(()=>[e(u,{style:{"margin-bottom":"0",color:"white","font-size":"4.5rem","font-weight":"700"}},{default:a(()=>[g(" Selamat Datang! ")]),_:1}),e(r,{style:{"margin-bottom":"0",color:"white","font-size":"1.75rem"}},{default:a(()=>[g(" di Track and Trace system Holding Farmasi ")]),_:1})]),_:1})]),_:1}),e(k,{span:"2 s:1",style:{position:"relative"}},{default:a(()=>[e(d,{size:24,vertical:"",justify:"center",align:"center",style:{height:"100%",padding:"0 2rem"}},{default:a(()=>[e(c,{"preview-disabled":"",src:n(M),width:300,style:{"max-width":"80%"}},null,8,["src"]),Object.keys(n(_)).length>0?(A(),T(N,{key:0,title:n(_).message,type:"error",closable:"",style:{"border-radius":"8px","text-transform":"capitalize"}},null,8,["title"])):V("",!0),e(F,{ref_key:"formRef",ref:y,model:n(t),rules:n(w),"show-label":!1},{default:a(()=>[e(C,{path:"email"},{default:a(()=>[e(x,{value:n(t).email,"onUpdate:value":s[0]||(s[0]=m=>n(t).email=m),type:"text","input-props":{type:"email"},placeholder:"Input Email",size:"large"},{prefix:a(()=>[e(b,{component:n(ne),style:{"margin-right":"8px"}},null,8,["component"])]),_:1},8,["value"])]),_:1}),e(C,{path:"password",style:{"margin-top":"10px"}},{default:a(()=>[e(x,{value:n(t).password,"onUpdate:value":s[1]||(s[1]=m=>n(t).password=m),onKeyup:q(v,["enter"]),type:"password","show-password-on":"click",placeholder:"Input Password",size:"large"},{prefix:a(()=>[e(b,{component:n(ae),style:{"margin-right":"8px"}},null,8,["component"])]),_:1},8,["value","onKeyup"])]),_:1}),e(d,{justify:"center",style:{"margin-top":"10px"}},{default:a(()=>[e(j,{loading:n(l),onClick:v,type:"primary",size:"large",class:"button-tnt",style:{padding:"1.75rem 2rem"}},{default:a(()=>[g(" Masuk ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),e(c,{id:"acc-1","preview-disabled":"",src:n(I),width:256},null,8,["src"]),e(c,{id:"acc-2","preview-disabled":"",src:n(te),width:192},null,8,["src"]),e(c,{id:"acc-3","preview-disabled":"",src:n(I),width:256},null,8,["src"])],64)}}});typeof z=="function"&&z(se);export{se as default};
