import{_ as J}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as G,b as Q,E as W,r as k,f as X,p as Y,o as p,c as b,a as i,i as n,k as o,h as w,w as a,q as l,t as s,F as N,g as L,j as C,af as Z,s as ee,v as te,a7 as ae,a9 as oe,K as ne,a8 as se,L as le}from"./index.21c0d750.js";import{h as z}from"./moment.62d3fb0a.js";import{f as T}from"./faktur-kembali.287d5b30.js";import{_ as re}from"./modal-image-arr.vue_vue_type_script_setup_true_lang.8b64b6e2.js";import"./getCompanyId.7d0eb93b.js";const de={class:"body-tnt"},ue={key:0,class:"card-tnt"},_e={style:{"text-transform":"capitalize"}},ie={style:{margin:"0","font-size":"14px","font-weight":"500"}};const ce={class:"bottom-action-button"},pe={class:"action-item"},be=G({__name:"detail",setup(fe){const A=Q(),B=W(),D=k(!1),r=k({}),R=k({}),f=k({show:!1,data:{}});X(()=>{localStorage.removeItem("manifest_id"),K()});async function K(){D.value=!0,await P(),await F(),D.value=!1}async function P(){const _=A.params.id;await T.getDetailDO(_).then(async d=>{r.value=d.data}).catch(d=>{const v=d.response.data;B.error(v.message)})}async function F(){const _={do_id:A.params.id,limit:1e3};await T.getManifest(_).then(async d=>{R.value=d.data}).catch(d=>{const v=d.response.data;B.error(v.message)})}function V(_){f.value.data=_,f.value.show=!0}function j(){f.value.show=!1}return(_,d)=>{const v=J,O=Z,u=ee,m=te,y=ae,H=oe,S=ne,x=se,M=le,U=Y("router-link");return p(),b(N,null,[i("div",de,[n(D)?(p(),b("div",ue,[o(v)])):(p(),w(m,{key:1,vertical:"",size:14},{default:a(()=>[o(O,{style:{"margin-bottom":"0"}},{default:a(()=>{var e;return[l("No.DO : "+s((e=n(r))==null?void 0:e.code),1)]}),_:1}),o(x,{gutter:"14",style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[o(y,{span:8},{default:a(()=>[o(m,{vertical:"",size:5},{default:a(()=>[o(u,null,{default:a(()=>{var e;return[l("Tanggal : "+s(n(z)((e=n(r))==null?void 0:e.created_at).format("yyyy-MM-DD")),1)]}),_:1}),o(u,null,{default:a(()=>{var e;return[l("No. Invoice : "+s(_.$filters.isEmpty((e=n(r))==null?void 0:e.no_invoice)),1)]}),_:1}),o(u,null,{default:a(()=>{var e,t;return[l("Customer : "+s((t=(e=n(r))==null?void 0:e.customer)==null?void 0:t.name),1)]}),_:1}),o(u,null,{default:a(()=>{var e,t;return[l("Alamat : "+s(_.$filters.setAddress((t=(e=n(r))==null?void 0:e.destination)==null?void 0:t.address)),1)]}),_:1}),o(u,null,{default:a(()=>{var e,t;return[l("Tanggal Terima Invoice : "+s(n(z)((t=(e=n(r))==null?void 0:e.faktur)==null?void 0:t.tanggal_terima_invoice).format("yyyy-MM-DD")),1)]}),_:1}),o(u,null,{default:a(()=>{var e,t;return[l("Jam : "+s((t=(e=n(r))==null?void 0:e.faktur)==null?void 0:t.jam),1)]}),_:1})]),_:1})]),_:1}),o(y,{span:8},{default:a(()=>[o(m,{vertical:"",size:5},{default:a(()=>[o(u,null,{default:a(()=>{var e,t;return[l("SLA Customer : "+s(((t=(e=n(r))==null?void 0:e.customer)==null?void 0:t.standart_sla)+" Hari"),1)]}),_:1}),o(u,null,{default:a(()=>[l(" Parameter SLA : "),o(H,{round:"",bordered:!1,type:"success"},{default:a(()=>{var e,t;return[i("span",_e,s(_.$filters.isEmpty((t=(e=n(r))==null?void 0:e.faktur)==null?void 0:t.parameter_sla)),1)]}),_:1})]),_:1}),o(u,null,{default:a(()=>{var e;return[l("Tanggal Penerimaan : "+s(n(z)((e=n(r))==null?void 0:e.set_delivered_date).format("yyyy-MM-DD")),1)]}),_:1}),o(u,null,{default:a(()=>{var e,t;return[l("Rayon Customer : "+s((t=(e=n(r))==null?void 0:e.faktur)==null?void 0:t.rayon_customer),1)]}),_:1})]),_:1})]),_:1}),o(y,{span:8},{default:a(()=>[o(m,{vertical:"",size:5},{default:a(()=>[o(u,null,{default:a(()=>{var e,t;return[l("Status : "+s(_.$filters.isEmpty((t=(e=n(r))==null?void 0:e.faktur)==null?void 0:t.rayon_customer)),1)]}),_:1}),o(u,null,{default:a(()=>[l("Foto Bukti : "),o(S,{text:"",type:"primary",onClick:d[0]||(d[0]=e=>{var t;return V((t=n(r))==null?void 0:t.finish_info)})},{default:a(()=>[l(" Lihat Foto ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(m,{vertical:"",style:{"margin-top":".5rem"}},{default:a(()=>{var e;return[(p(!0),b(N,null,L((e=n(R))==null?void 0:e.list,(t,q)=>(p(),w(M,{key:q,style:{"border-radius":"8px"},"content-style":{background:"#eee",borderRadius:"8px"}},{default:a(()=>[i("h6",ie,s(t.code),1),o(m,{vertical:"",style:{"margin-top":".5rem"}},{default:a(()=>{var $,E;return["porter"in(t==null?void 0:t.driver_info)?(p(),w(M,{key:0,style:{"border-radius":"8px"},"content-style":{background:"#fafafa",borderRadius:"8px"}},{default:a(()=>[o(x,{cols:12},{default:a(()=>[o(y,{span:12,style:{"font-size":"13px"}},{default:a(()=>{var g,h,c,I;return[i("div",null,"Nama Porter : "+s((h=(g=t==null?void 0:t.driver_info)==null?void 0:g.porter)==null?void 0:h.name),1),i("div",null,"No. handphone : "+s((I=(c=t==null?void 0:t.driver_info)==null?void 0:c.porter)==null?void 0:I.phone),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024)):C("",!0),(($=t==null?void 0:t.driver_info)==null?void 0:$.drivers)!==null?(p(!0),b(N,{key:1},L((E=t==null?void 0:t.driver_info)==null?void 0:E.drivers,(g,h)=>(p(),w(M,{key:h,style:{"border-radius":"8px"},"content-style":{background:"#fafafa",borderRadius:"8px"}},{default:a(()=>[o(x,{cols:12},{default:a(()=>[o(y,{span:12,style:{"font-size":"13px"}},{default:a(()=>{var c;return[i("div",null,"Nama Driver : "+s(g.name),1),i("div",null,"Plat Nomor Kendaraan : "+s((c=g.vehicle)==null?void 0:c.plate_number),1)]}),_:2},1024),o(y,{span:12,style:{"font-size":"13px"}},{default:a(()=>{var c;return[i("div",null,"Tipe Kendaraan : "+s((c=g.vehicle_category)==null?void 0:c.name),1),C("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):C("",!0)]}),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})),i("div",ce,[i("div",pe,[o(U,{to:{name:"pengiriman-faktur-kembali"},class:"text-decoration-none"},{default:a(()=>[o(S,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:a(()=>[l("Kembali")]),_:1})]),_:1})])])]),o(re,{show:n(f).show,"onUpdate:show":d[1]||(d[1]=e=>n(f).show=e),data:n(f).data,"onUpdate:data":d[2]||(d[2]=e=>n(f).data=e),"onClick:close":j},null,8,["show","data"])],64)}}});export{be as default};
