import{s as B}from"./serialisasi.378d5040.js";import{d as C,E as D,r,o as V,h as N,w as a,k as o,q as _,a as R,i as t,aJ as q,ak as A,I as L,J as T,K as j,v as F,L as J,M as U}from"./index.21c0d750.js";const I=C({__name:"modal-cancel-serialize",props:{isShowModal:{type:Boolean},idSerialize:{}},emits:["update:isShowModal","hideModal","getData"],setup(v,{emit:d}){const c=v,p=D(),s=r(!1),m=r(null),l=r({}),f=r();f.value={reason:{required:!0,message:"Alasan tidak boleh kosong",trigger:["blur","change"]}};const g=()=>{l.value.reason="",setTimeout(()=>{d("hideModal")},100)};async function w(n){var e;n.preventDefault(),await((e=m.value)==null?void 0:e.validate().then(()=>{b()}).catch(()=>{p.error("Form tidak valid, tolong periksa kembali")}))}function b(){s.value=!0;const n=new FormData;n.append("reception_id",String(c.idSerialize)),n.append("reason",l.value.reason),B.cancelSerialize(n).then(()=>{s.value=!1,d("getData"),g()}).catch(e=>{const i=e.response.data;p.error(i.message),s.value=!1})}return(n,e)=>{const i=q,x=A,M=L,S=T,h=j,k=F,z=J,y=U;return V(),N(y,{show:c.isShowModal,"onUpdate:show":e[1]||(e[1]=u=>n.$emit("update:isShowModal",u))},{default:a(()=>[o(z,{style:{width:"470px","--n-border-radius":"10px"},"content-style":"padding: 15px 20px 28px 20px;",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:a(()=>[o(k,{vertical:"",size:25},{default:a(()=>[o(i,{style:{"margin-bottom":"0"}},{default:a(()=>[_("Batalkan Serialisasi")]),_:1}),R("div",null,[o(S,{ref_key:"formRef",ref:m,class:"form-tnt","show-require-mark":!1,"label-width":80,model:t(l),rules:t(f)},{default:a(()=>[o(M,{label:"Alasan",path:"reason"},{default:a(()=>[o(x,{value:t(l).reason,"onUpdate:value":e[0]||(e[0]=u=>t(l).reason=u),placeholder:"Alasan",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),o(k,{justify:"center"},{default:a(()=>[o(h,{loading:t(s),color:"#828282",class:"button-tnt",onClick:g},{default:a(()=>[_(" Tutup ")]),_:1},8,["loading"]),o(h,{loading:t(s),color:"#219653",class:"button-tnt",onClick:w},{default:a(()=>[_(" Lanjutkan ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});export{I as _};
