import{_ as R}from"./t-not-granted.vue_vue_type_script_setup_true_lang.a30cf979.js";import{_ as U}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as H,E as L,r as v,f as q,aF as I,p as K,o,c,k as e,w as t,q as r,i as n,F as f,a as d,g as J,t as _,h as k,j as u,af as O,am as Q,an as X,ak as Y,as as Z,s as ee,v as te,K as ae,ad as ne,ae as se,N as oe,ag as ie}from"./index.21c0d750.js";import{c as p}from"./constant.549d5c21.js";import{m as re}from"./master-warehouse.353b4b3b.js";import{A as le}from"./Add.4f3b52cf.js";import"./AlertCircleOutline.19cf574c.js";import"./getCompanyId.7d0eb93b.js";const ce={class:"body-tnt"},de={class:"card-tnt",style:{width:"30%"}},_e={key:0,class:"card-tnt"},ue={class:"card-tnt",style:{border:"2px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},pe={class:"card-tnt",style:{border:"2px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},me={class:"card-tnt",style:{border:"2px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},ge={class:"card-tnt",style:{border:"2px solid #e5e5e5","margin-top":"0",padding:"14px","text-align":"center"}},fe={style:{"margin-top":"24px",display:"flex","justify-content":"center"}},$e=H({__name:"index",setup(he){const $=L(),x=v(!1),b=v({}),i=v({search:"",sort:"desc",sort_field:"created_at",page:1,limit:10});q(()=>{I.isGranted(p.accessPrivileges.warehouse+".list")&&h()});async function h(){x.value=!0,await B(),x.value=!1}async function B(){await re.getWarehouse(i.value).then(s=>{b.value=s.data}).catch(s=>{const l=s.response.data;$.error(l.message)})}const w=v(0);function C(){i.value.page=1,clearTimeout(w.value),w.value=setTimeout(function(){h()},600)}function P(s){i.value.page=1,i.value.limit=s,h()}return(s,l)=>{const E=O,G=Q,M=X,V=Y,W=U,D=Z,m=ee,g=te,z=ae,N=K("router-link"),y=ne,T=se,F=oe,S=ie,j=R;return o(),c("div",ce,[e(E,{style:{"margin-bottom":"4px"}},{default:t(()=>[r("Master Warehouse")]),_:1}),e(M,null,{default:t(()=>[e(G,null,{default:t(()=>[r("Master Warehouse")]),_:1})]),_:1}),s.$filters.isGranted(n(p).accessPrivileges.warehouse+".list")?(o(),c(f,{key:0},[d("div",de,[e(V,{value:n(i).search,"onUpdate:value":[l[0]||(l[0]=a=>n(i).search=a),C],clearable:"",placeholder:"Cari nama plant/cabang"},null,8,["value"])]),n(x)?(o(),c("div",_e,[e(W)])):(o(!0),c(f,{key:1},J(n(b).list,(a,A)=>(o(),c("div",{class:"card-tnt",key:A},[e(g,{vertical:"",size:18},{default:t(()=>[e(g,{justify:"space-between"},{default:t(()=>[e(g,{vertical:"",size:0},{default:t(()=>[e(D,{style:{"font-size":"16px","margin-bottom":"0"}},{default:t(()=>[r(_(a.name),1)]),_:2},1024),e(m,null,{default:t(()=>[r(_(s.$filters.setAddress(a.address)),1)]),_:2},1024)]),_:2},1024),e(g,{vertical:"",size:0},{default:t(()=>[d("div",null,[s.$filters.isGranted(n(p).accessPrivileges.warehouse+".update")?(o(),c(f,{key:0},[u("",!0)],64)):u("",!0),s.$filters.isGranted(n(p).accessPrivileges.warehouse+".detail")?(o(),c(f,{key:1},[a.counts.building>0?(o(),k(N,{key:0,to:{name:"setting-master-warehouse-id",params:{id:a.id}},style:{"text-decoration":"none"}},{default:t(()=>[e(z,{type:"primary",class:"button-tnt"},{default:t(()=>[r("Detail")]),_:1})]),_:2},1032,["to"])):u("",!0)],64)):u("",!0)])]),_:2},1024)]),_:2},1024),e(T,{cols:"4","item-responsive":"",responsive:"screen","x-gap":16,"y-gap":16},{default:t(()=>[e(y,{span:"1"},{default:t(()=>[d("div",ue,[e(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:t(()=>[r(_(a.counts.building)+" Building ",1)]),_:2},1024)])]),_:2},1024),e(y,{span:"1"},{default:t(()=>[d("div",pe,[e(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:t(()=>[r(_(a.counts.room)+" Room ",1)]),_:2},1024)])]),_:2},1024),e(y,{span:"1"},{default:t(()=>[d("div",me,[e(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:t(()=>[r(_(a.counts.rack)+" Rack ("+_(a.counts.bin)+" Bin) ",1)]),_:2},1024)])]),_:2},1024),e(y,{span:"1"},{default:t(()=>[d("div",ge,[e(m,{style:{"font-size":"14px","margin-bottom":"0"}},{default:t(()=>[r(_(a.counts.pallete)+" Pallete ",1)]),_:2},1024)])]),_:2},1024)]),_:2},1024),s.$filters.isGranted(n(p).accessPrivileges.warehouse+".create")?(o(),c(f,{key:0},[a.counts.building<=0&&s.$filters.isGranted(n(p).accessPrivileges.warehouse+".create")?(o(),k(g,{key:0,vertical:"",size:0},{default:t(()=>[e(N,{to:{name:"setting-master-warehouse-crud-id-building",params:{crud:"create",id:a.id}},style:{"text-decoration":"none"}},{default:t(()=>[e(z,{color:"#219653",text:"",style:{"margin-right":"10px"}},{icon:t(()=>[e(F,null,{default:t(()=>[e(n(le))]),_:1})]),default:t(()=>[r(" Tambah Warehouse Building ")]),_:1})]),_:2},1032,["to"])]),_:2},1024)):u("",!0)],64)):u("",!0)]),_:2},1024)]))),128)),d("div",fe,[e(S,{page:n(i).page,"onUpdate:page":[l[1]||(l[1]=a=>n(i).page=a),h],"page-size":n(i).limit,"onUpdate:pageSize":[l[2]||(l[2]=a=>n(i).limit=a),P],"page-count":n(b).total_page,"page-slot":10,"show-size-picker":"","page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count"])])],64)):(o(),k(j,{key:1}))])}}});export{$e as default};
