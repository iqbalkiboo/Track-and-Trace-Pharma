import{_ as Z}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as ee,u as te,E as ne,r,f as ae,p as oe,o as c,c as y,k as e,w as t,q as n,i as o,N as P,a as f,h as w,F as N,g as B,t as i,af as le,am as se,an as _e,v as ue,K as ie,L as de,aj as pe,H as re,aP as ce,aQ as me,aR as ge,aS as fe,a9 as ye,y as ve,aT as be,aa as ke,ab as he,ag as xe}from"./index.21c0d750.js";import{l as we}from"./loading.ceda1b09.js";import{A as Se}from"./Add.4f3b52cf.js";import{E as ze}from"./EllipsisVertical.56989e7a.js";import"./getCompanyId.7d0eb93b.js";const De={class:"body-tnt"},Le={class:"card-tnt",style:{"margin-top":"0"}},Pe={class:"table-tnt"},Ne=f("sup",null,"3",-1),Be={style:{"text-transform":"capitalize"}},Me={key:1},$e=f("td",{colspan:"10",style:{"text-align":"center"}},"Belum ada data tersedia",-1),Te=[$e],Ue={class:"table-footer"},je=ee({__name:"index",setup(Ve){const M=te(),$=ne(),v=r(!0),h=r(!1),m=r({}),d=r({search:"",delivery_type:"direct_manual",page:1,limit:10}),g=r({date:118313526e4,status:"",product:""}),T=r([{label:"Siap Dikirim",value:"siap_dikirim"},{label:"Agregasi",value:"agregasi"},{label:"Loading",value:"loading"},{label:"Selesai",value:"selesai"}]),U=r([{label:"Detail",key:"detail",disabled:!1}]),V=r([{label:"Paracetamol",value:"paracetamol"},{label:"Oskadon Oye",value:"oskadon"}]);function A(p,s){switch(p){case"detail":M.push({name:"pengiriman-loading-porter-id-detail",params:{id:s}});break}}ae(()=>{x()});async function x(){v.value=!0,h.value=!0,await we.getManifest(d.value).then(p=>{m.value=p.data,v.value=!1,h.value=!1,console.log(m.value)}).catch(p=>{v.value=!1,h.value=!1;const s=p.response.data;$.error(s.message)})}function E(p){d.value.page=1,d.value.limit=p,x()}return(p,s)=>{const O=le,C=se,Q=_e,b=ue,S=ie,R=oe("router-link"),j=de,q=pe,z=re,F=Z,_=ce,D=me,H=ge,u=fe,I=ye,K=ve,G=be,J=ke,W=he,X=xe;return c(),y("div",De,[e(b,{vertical:"",size:24},{default:t(()=>[e(b,{vertical:"",size:0},{default:t(()=>[e(O,{style:{"margin-bottom":"0"}},{default:t(()=>[n("Loading")]),_:1}),e(Q,null,{default:t(()=>[e(C,null,{default:t(()=>[n("Loading")]),_:1})]),_:1})]),_:1}),e(j,{style:{"border-radius":"10px"}},{default:t(()=>[e(b,null,{default:t(()=>[e(R,{to:{name:"pengiriman"},style:{"text-decoration":"none"}},{default:t(()=>[e(S,{type:"primary",class:"button-tnt"},{default:t(()=>[e(o(P),{component:o(Se)},null,8,["component"]),n(" Tambah DO ")]),_:1})]),_:1})]),_:1})]),_:1}),f("div",Le,[e(b,null,{default:t(()=>[e(q,{value:o(g).date,"onUpdate:value":s[0]||(s[0]=a=>o(g).date=a),type:"date"},null,8,["value"]),e(z,{value:o(g).status,"onUpdate:value":s[1]||(s[1]=a=>o(g).status=a),options:o(T),placeholder:"Pilih Status",style:{width:"256px","max-width":"100%"}},null,8,["value","options"]),e(z,{value:o(g).product,"onUpdate:value":s[2]||(s[2]=a=>o(g).product=a),options:o(V),placeholder:"Pilih Product",style:{width:"256px","max-width":"100%"}},null,8,["value","options"])]),_:1}),f("div",Pe,[o(v)?(c(),w(F,{key:0})):(c(),w(W,{key:1,"x-scrollable":""},{default:t(()=>[e(J,{"single-line":!0},{default:t(()=>[e(H,null,{default:t(()=>[e(D,{style:{"border-radius":"20px"}},{default:t(()=>[e(_,null,{default:t(()=>[n("No")]),_:1}),e(_,null,{default:t(()=>[n("Kode Manifest")]),_:1}),e(_,null,{default:t(()=>[n("No. DO")]),_:1}),e(_,null,{default:t(()=>[n("Item")]),_:1}),e(_,null,{default:t(()=>[n("Tujuan")]),_:1}),e(_,{style:{"text-align":"center"}},{default:t(()=>[n("Qty Packing")]),_:1}),e(_,{style:{"text-align":"center"}},{default:t(()=>[n("Qty Load")]),_:1}),e(_,{style:{"text-align":"center"}},{default:t(()=>[n("Volume (cm"),Ne,n(")")]),_:1}),e(_,null,{default:t(()=>[n("Tipe Pengiriman")]),_:1}),e(_,null,{default:t(()=>[n("Status")]),_:1}),e(_,null,{default:t(()=>[n("Driver")]),_:1}),e(_,{style:{"text-align":"center"}},{default:t(()=>[n("Aksi")]),_:1})]),_:1})]),_:1}),e(G,null,{default:t(()=>[o(m).list.length>0?(c(!0),y(N,{key:0},B(o(m).list,(a,L)=>(c(),w(D,{key:L},{default:t(()=>[e(u,null,{default:t(()=>[n(i(o(d).limit*(o(d).page-1)+(L+1)),1)]),_:2},1024),e(u,null,{default:t(()=>[n(i(a.code),1)]),_:2},1024),e(u,null,{default:t(()=>{var l;return[n(i((l=a.do)==null?void 0:l.code),1)]}),_:2},1024),e(u,null,{default:t(()=>[n(i("?"))]),_:1}),e(u,null,{default:t(()=>{var l,k;return[n(i((k=(l=a.do)==null?void 0:l.destination)==null?void 0:k.name),1)]}),_:2},1024),e(u,{style:{"text-align":"center"}},{default:t(()=>{var l;return[n(i((l=a.total)==null?void 0:l.packing),1)]}),_:2},1024),e(u,{style:{"text-align":"center"}},{default:t(()=>{var l;return[n(i((l=a.total)==null?void 0:l.qty),1)]}),_:2},1024),e(u,{style:{"text-align":"center"}},{default:t(()=>[n(i(a.volume),1)]),_:2},1024),e(u,null,{default:t(()=>[n(i(a.delivery_type),1)]),_:2},1024),e(u,null,{default:t(()=>[e(I,{round:"",bordered:!1,type:a.status=="siap_dikirim"?"warning":a.status=="agregasi"?"error":a.status=="Loaded"?"info":"success"},{default:t(()=>[f("span",Be,i(a.status=="siap_dikirim"?"Siap Dikirim":a.status),1)]),_:2},1032,["type"])]),_:2},1024),e(u,null,{default:t(()=>{var l;return[(c(!0),y(N,null,B((l=a.driver_info)==null?void 0:l.drivers,(k,Y)=>(c(),y("div",{key:Y},i(k.name),1))),128))]}),_:2},1024),e(u,{style:{"text-align":"center"}},{default:t(()=>[e(K,{placement:"bottom-end",options:o(U),"show-arrow":!0,onSelect:l=>A(l,a._id)},{default:t(()=>[e(S,{tertiary:""},{icon:t(()=>[e(o(P),null,{default:t(()=>[e(o(ze))]),_:1})]),_:1})]),_:2},1032,["options","onSelect"])]),_:2},1024)]),_:2},1024))),128)):(c(),y("tr",Me,Te))]),_:1})]),_:1})]),_:1})),f("div",Ue,[e(X,{page:o(d).page,"onUpdate:page":[s[3]||(s[3]=a=>o(d).page=a),x],"page-size":o(d).limit,"onUpdate:pageSize":[s[4]||(s[4]=a=>o(d).limit=a),E],"page-count":o(m).total_page,"page-slot":7,"show-size-picker":o(m).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])])])]),_:1})])}}});export{je as default};
