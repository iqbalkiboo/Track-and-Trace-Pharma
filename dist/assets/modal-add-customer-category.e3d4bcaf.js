import{d as b,r,f as x,e as T,o as B,h as D,w as a,k as o,i as n,q as f,ak as N,I as S,J as V,v as q,K as F,L as U,M as z}from"./index.21c0d750.js";import{m as A}from"./master-customer-category.438843cd.js";import"./getCompanyId.7d0eb93b.js";const j=b({__name:"modal-add-customer-category",props:{isShowModal:{type:Boolean}},emits:["hideModal","fetchData","update:isShowModal"],setup(h,{emit:i}){const g=h,u=r(),s=r({}),l=r(!1),y=r({name:[{required:!0,validator:(t,e)=>{if(!e||e.length<1)return new Error("Nama Kategori Customer tidak boleh kosong")},trigger:["input","blur"]}]});x(()=>{u.value=T.getAuth()});const p=()=>{setTimeout(()=>{i("hideModal")},100)};function v(){l.value=!0;let t="";u.value.xxtype==="5up3r4dm1n"?t=u.value["xx-usertype-access"].company_id:t=u.value.users.user_type.id;const e=new FormData;e.append("company_id",t),e.append("name",s.value.name),A.createCustomerCategory(e).then(()=>{l.value=!1,m(),p(),i("fetchData")}).catch(()=>{l.value=!1});function m(){s.value.name=""}}return(t,e)=>{const m=N,w=S,k=V,_=q,c=F,C=U,M=z;return B(),D(M,{show:g.isShowModal,"onUpdate:show":e[1]||(e[1]=d=>t.$emit("update:isShowModal",d))},{default:a(()=>[o(C,{style:{width:"470px","--n-border-radius":"10px"},bordered:!1,size:"huge",role:"dialog",title:"Tambah Tipe Customer","aria-modal":"true"},{default:a(()=>[o(_,{vertical:"",size:24,style:{width:"100%"}},{default:a(()=>[o(k,{ref:"typeFormRef",class:"form-tnt","show-require-mark":!1,model:n(s),rules:n(y)},{default:a(()=>[o(w,{path:"name",label:"Nama Tipe Customer"},{default:a(()=>[o(m,{value:n(s).name,"onUpdate:value":e[0]||(e[0]=d=>n(s).name=d),placeholder:"Masukkan Nama Tipe Customer"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),o(_,{justify:"center",style:{"margin-top":"10px"}},{default:a(()=>[o(c,{color:"#828282",class:"button-tnt",loading:n(l),onClick:p},{default:a(()=>[f("Batalkan")]),_:1},8,["loading"]),o(c,{color:"#219653",class:"button-tnt",loading:n(l),onClick:v},{default:a(()=>[f("Tambah")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["show"])}}});export{j as default};
