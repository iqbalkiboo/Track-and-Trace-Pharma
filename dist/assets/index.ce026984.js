import{_ as se}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{_ as le}from"./t-not-granted.vue_vue_type_script_setup_true_lang.a30cf979.js";import{_ as ie}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as ce,u as ue,E as re,r,f as de,aF as P,a1 as pe,p as _e,o as c,c as _,a as o,k as a,w as n,q as d,i as e,h as f,N as x,j as v,F as g,g as me,t as y,ah as A,Q as F,as as fe,am as ge,an as he,K as ke,v as be,ak as ve,a7 as ye,a8 as Te,y as we,aa as Ce,ab as Pe,ag as xe}from"./index.21c0d750.js";import{c as h}from"./constant.549d5c21.js";import{t as G}from"./type.86a7443c.js";import{A as Be}from"./Add.4f3b52cf.js";import{E as De}from"./EllipsisVertical.56989e7a.js";import{P as Ee}from"./Pencil.0b65f5de.js";import{T as Ne}from"./Trash.4f4f705c.js";import{H as $e}from"./HelpCircleOutline.a54a41ed.js";import{C as Se}from"./CheckmarkCircleOutline.8fddcae1.js";import"./AlertCircleOutline.19cf574c.js";import"./getHoldingId.48f570fc.js";const Ae={class:"body-tnt"},Fe={class:"card-tnt"},Ge={class:"table-tnt"},Ie=o("thead",null,[o("tr",null,[o("th",{style:{"text-align":"center"}},"No"),o("th",null,"Kode ERP"),o("th",null,"Tipe Produk"),o("th",null,"Deskripsi"),o("th",{style:{"text-align":"center"}},"Aksi")])],-1),Re={"data-label":"No",style:{"text-align":"center"}},Ve={"data-label":"Kode ERP"},Me={"data-label":"Tipe Produk"},qe={"data-label":"Deskripsi"},ze={"data-label":"Aksi",style:{"text-align":"center"}},He={class:"table-footer"},ot=ce({__name:"index",setup(Ke){const I=ue(),R=re(),k=r(!1),b=r(!1),T=r({}),u=r({q:"",dir:"desc",sort:"created_at",page:1,limit:10}),B=r({id:"",name:""}),D=s=>()=>F(x,null,{default:()=>F(s)}),w=r([]);de(()=>{V(),P.isGranted(h.accessPrivileges.productType+".list")&&m()});async function m(){k.value=!0,await G.getType(u.value).then(s=>{T.value=s.data.data,k.value=!1,t.value.show=!1}).catch(s=>{k.value=!1;const l=s.response.data;R.error(l.message)})}function V(){P.isGranted(h.accessPrivileges.productType+".update")&&w.value.push({label:"Edit Data",key:"edit",icon:D(Ee)}),P.isGranted(h.accessPrivileges.productType+".delete")&&w.value.push({label:"Hapus Data",key:"delete",icon:D(Ne)})}const E=r(0);function M(){u.value.page=1,clearTimeout(E.value),E.value=setTimeout(function(){m()},600)}function q(s){u.value.page=1,u.value.limit=s,m()}function z(s,l){switch(s){case"edit":I.push({path:`/setting/master-tipe-produk/update/${l}`});break;case"delete":B.value.id=l,K();break}}const t=r({show:r(!1),icon:pe(),iconColor:"",hideIcon:!1,title:"",subtitle:"",type:""});function C(){t.value.show=!1}function H(){t.value.type="success",t.value.icon=Se,t.value.iconColor="#219653",t.value.title="Berhasil",t.value.subtitle="Anda berhasil menghapus data tipe produk",t.value.show=!0}function K(){t.value.type="delete",t.value.icon=$e,t.value.iconColor="#EB5757",t.value.title="Perhatian",t.value.subtitle="Apakah Anda yakin untuk menghapus data tipe produk?",t.value.show=!0}function L(){b.value=!0,G.deleteType(B.value.id).then(()=>{b.value=!1,m(),setTimeout(()=>{H()},300)})}return(s,l)=>{const U=fe,O=ge,j=he,p=ke,N=_e("router-link"),$=be,Q=ve,J=ye,W=Te,X=ie,Y=we,Z=Ce,ee=Pe,te=xe,ae=le,ne=se;return c(),_(g,null,[o("div",Ae,[a(U,{style:{"margin-bottom":"4px"}},{default:n(()=>[d("Tipe Produk")]),_:1}),a(j,null,{default:n(()=>[a(O,null,{default:n(()=>[d("Tipe Produk")]),_:1})]),_:1}),o("div",Fe,[s.$filters.isGranted(e(h).accessPrivileges.productType+".create")?(c(),f($,{key:0},{default:n(()=>[a(N,{to:"/setting/master-tipe-produk/create/1",class:"text-decoration-none"},{default:n(()=>[a(p,{color:"#219653",class:"button-tnt"},{icon:n(()=>[a(e(x),null,{default:n(()=>[a(e(Be))]),_:1})]),default:n(()=>[d(" Tambah Tipe Produk ")]),_:1})]),_:1})]),_:1})):v("",!0),s.$filters.isGranted(e(h).accessPrivileges.productType+".list")?(c(),_(g,{key:1},[a(W,{gutter:"16",style:{"margin-top":"24px"}},{default:n(()=>[a(J,{span:6},{default:n(()=>[a(Q,{value:e(u).q,"onUpdate:value":[l[0]||(l[0]=i=>e(u).q=i),M],clearable:"",placeholder:"Cari tipe produk"},null,8,["value"])]),_:1})]),_:1}),o("div",Ge,[e(k)?(c(),f(X,{key:0})):(c(),f(ee,{key:1,"x-scrollable":""},{default:n(()=>[a(Z,{"single-line":!1},{default:n(()=>[Ie,o("tbody",null,[(c(!0),_(g,null,me(e(T).list,(i,S)=>(c(),_("tr",{key:S},[o("td",Re,y(e(u).limit*(e(u).page-1)+(S+1)),1),o("td",Ve,y(i.erp_code),1),o("td",Me,y(i.name),1),o("td",qe,y(i.description?i.description:"-"),1),o("td",ze,[a(Y,{placement:"bottom-end",options:e(w),onSelect:oe=>z(oe,i.id)},{default:n(()=>[a(p,{tertiary:""},{icon:n(()=>[a(e(x),null,{default:n(()=>[a(e(De))]),_:1})]),_:1})]),_:2},1032,["options","onSelect"])])]))),128))])]),_:1})]),_:1})),o("div",He,[a(te,{page:e(u).page,"onUpdate:page":[l[1]||(l[1]=i=>e(u).page=i),m],"page-count":e(T).total_page,"page-slot":10,"show-size-picker":"","page-sizes":[10,20,30,40,50],"onUpdate:pageSize":q},null,8,["page","page-count"])])])],64)):(c(),f(ae,{key:2}))])]),a(ne,{show:e(t).show,"onUpdate:show":l[2]||(l[2]=i=>e(t).show=i),icon:e(t).icon,"icon-color":e(t).iconColor,"hide-icon":e(t).hideIcon,title:e(t).title,subtitle:e(t).subtitle},{default:n(()=>[a($,{justify:"center"},{default:n(()=>[e(t).type=="success"?(c(),f(p,{key:0,color:"#828282",class:"button-tnt",onClick:C},{default:n(()=>[d(" Tutup ")]),_:1})):v("",!0),e(t).type=="delete"?(c(),_(g,{key:1},[a(p,{loading:e(b),color:"#828282",class:"button-tnt",onClick:A(C,["prevent"])},{default:n(()=>[d(" Tidak ")]),_:1},8,["loading","onClick"]),a(p,{loading:e(b),color:"#EB5757",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:A(L,["prevent"])},{default:n(()=>[d(" Iya ")]),_:1},8,["loading","onClick"])],64)):v("",!0),e(t).type=="success"?(c(),_(g,{key:2},[a(p,{color:"#828282",class:"button-tnt",onClick:C},{default:n(()=>[d(" Tambah Lainya ")]),_:1}),a(N,{to:{name:"setting-master-produk"},class:"text-decoration-none"},{default:n(()=>[a(p,{color:"#219653",class:"button-tnt"},{default:n(()=>[d(" Kembali ke Beranda ")]),_:1})]),_:1})],64)):v("",!0)]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"])],64)}}});export{ot as default};
