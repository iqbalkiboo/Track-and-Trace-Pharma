import{_ as Q}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as H,u as j,E as G,r,f as J,a1 as W,o as u,c as h,k as t,w as n,q as k,a as e,i as a,h as N,F as X,g as Y,t as _,af as Z,am as ee,an as te,ak as ae,a7 as ne,a8 as oe,a9 as se,N as le,K as ce,y as _e,aa as re,ab as ie,ag as ue}from"./index.21c0d750.js";import{h as de}from"./moment.62d3fb0a.js";import{c as pe}from"./pengecekan.5688c890.js";import{r as w}from"./render-icon.8c81e0de.js";import{u as me}from"./breakpoints.0cfc147a.js";import{E as ge}from"./EllipsisVertical.56989e7a.js";import{S as he}from"./SearchOutline.47b929a4.js";import{L as fe}from"./LocationOutline.22b247fa.js";import"./getCompanyId.7d0eb93b.js";import"./getHoldingId.48f570fc.js";const ke={class:"body-tnt"},be={class:"card-tnt"},ye={class:"table-tnt"},ve=e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"center"}},"No"),e("th",null,"No PK"),e("th",null,"Tanggal"),e("th",null,"Kode Produk"),e("th",null,"Nama Produk"),e("th",null,"No. Batch"),e("th",{style:{"text-align":"center"}},"Qty Level Terendah"),e("th",{style:{"text-align":"center"}},"Status"),e("th",{style:{"text-align":"center"}},"Aksi")])],-1),xe={"data-label":"No",style:{"text-align":"center"}},Ne={"data-label":"No PK"},we={"data-label":"Tanggal"},Se={"data-label":"Kode Produk"},Pe={"data-label":"Nama Produk"},Be={"data-label":"No. Batch"},Le={"data-label":"Qty Level Terendah",style:{"text-align":"center"}},Te={"data-label":"Status",style:{"text-align":"center"}},ze={"data-label":"Aksi",style:{"text-align":"center"}},De={key:1},Ke=e("td",{colspan:"10",style:{"text-align":"center !important"}}," Belum ada data tersedia ",-1),Me=[Ke],Ce={class:"table-footer"},je=H({__name:"index",setup($e){const b=j(),S=G();me();const p=r(!0),f=r(!1),d=r({}),o=r({search:"",status:"pre_release,released",sort:"desc",sort_field:"created_at",page:1,limit:10});J(()=>{m()});async function m(){p.value=!0,f.value=!0,await pe.getChecking(o.value).then(s=>{d.value=s.data,p.value=!1,f.value=!1,z.value.show=!1}).catch(s=>{p.value=!1,f.value=!1;const l=s.response.data;S.error(l.message)})}const y=r(0);function P(){o.value.page=1,clearTimeout(y.value),y.value=setTimeout(function(){m()},600)}function B(s){o.value.page=1,o.value.limit=s,m()}const L=[{label:"Lihat Detail",key:"detail",icon:w(he)},{label:"Lacak PK",key:"lacak",icon:w(fe)}];function T(s,l){switch(s){case"detail":b.push({name:"produksi-pengecekan-tahap2-id",params:{id:l}});break;case"lacak":b.push({name:"lacak-pk-id",params:{id:l}});break}}const z=r({show:r(!1),type:"",icon:W(),iconColor:"",hideIcon:!1,title:"",subtitle:""});return(s,l)=>{const D=Z,K=ee,M=te,C=ae,$=ne,E=oe,R=Q,V=se,F=le,I=ce,O=_e,U=re,q=ie,A=ue;return u(),h("div",ke,[t(D,{style:{"margin-bottom":"4px"}},{default:n(()=>[k("Pengecekan Tahap 2")]),_:1}),t(M,null,{default:n(()=>[t(K,null,{default:n(()=>[k("Pengecekan Tahap 2")]),_:1})]),_:1}),e("div",be,[t(E,{gutter:"16"},{default:n(()=>[t($,{span:6},{default:n(()=>[t(C,{value:a(o).search,"onUpdate:value":[l[0]||(l[0]=i=>a(o).search=i),P],clearable:"",type:"text",placeholder:"Cari No PK"},null,8,["value"])]),_:1})]),_:1}),e("div",ye,[a(p)?(u(),N(R,{key:0})):(u(),N(q,{key:1,"x-scrollable":""},{default:n(()=>[t(U,{"single-line":!1},{default:n(()=>{var i;return[ve,e("tbody",null,[((i=a(d).list)==null?void 0:i.length)>0?(u(!0),h(X,{key:0},Y(a(d).list,(c,v)=>(u(),h("tr",{key:v},[e("td",xe,_(a(o).limit*(a(o).page-1)+(v+1)),1),e("td",Ne,_(c.pk_id),1),e("td",we,_(a(de)(c.created_at).format("yyyy-MM-DD")),1),e("td",Se,_(c.product.item_code),1),e("td",Pe,_(c.product.short_name),1),e("td",Be,_(c.batch_number),1),e("td",Le,_(c.serialize?c.serialize[0].qty:0),1),e("td",Te,[t(V,{type:"success",bordered:!1,round:""},{default:n(()=>{var g,x;return[k(_(s.$filters.toStatus((x=(g=c.status)==null?void 0:g.global)==null?void 0:x.value)),1)]}),_:2},1024)]),e("td",ze,[t(O,{placement:"bottom-end","show-arrow":"",options:L,onSelect:g=>T(g,c.id)},{default:n(()=>[t(I,{tertiary:""},{icon:n(()=>[t(F,null,{default:n(()=>[t(a(ge))]),_:1})]),_:1})]),_:2},1032,["onSelect"])])]))),128)):(u(),h("tr",De,Me))])]}),_:1})]),_:1})),e("div",Ce,[t(A,{page:a(o).page,"onUpdate:page":[l[1]||(l[1]=i=>a(o).page=i),m],"page-count":a(d).total_page,"page-slot":7,"show-size-picker":a(d).total_data>10,"page-sizes":[10,20,30,40,50],"onUpdate:pageSize":B},null,8,["page","page-count","show-size-picker"])])])])])}}});export{je as default};
