import{_ as R}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{d as S,r as i,f as q,e as O,a1 as P,p as E,o as _,c as v,a as w,k as a,w as t,q as o,F as k,ah as x,j as h,h as H,af as L,am as U,an as $,ak as G,I as J,J as Y,K as z,v as Q}from"./index.21c0d750.js";import{m as W}from"./master-kemasan-kolektif.2fd7ef6d.js";import{A as X}from"./AlertCircleOutline.19cf574c.js";import{C as Z}from"./CheckmarkCircleOutline.8fddcae1.js";import"./getHoldingId.48f570fc.js";import"./getCompanyId.7d0eb93b.js";const ee={class:"body-tnt"},ae={class:"card-tnt"},re=S({__name:"add",setup(te){const d=i(),c=i(!1),s=i({}),g=i(),b=i();b.value={name:{required:!0,message:"Nama kategori kemasan tidak boleh kosong",trigger:"blur"}},q(()=>{d.value=O.getAuth()});function K(){c.value=!0;let n="";d.value.xxtype==="5up3r4dm1n"?n=d.value["xx-usertype-access"].holding_id:n=d.value.users.user_type.id;const l={holding_id:n,name:s.value.name,description:s.value.description,erp_code:s.value.erp_code};W.createPackagingCollectif(l).then(()=>{c.value=!1,B(),r(),setTimeout(()=>{T()},300)}).catch(f=>{const m=f.response.data;c.value=!1,r(),setTimeout(()=>{N(m)},300)})}function B(){s.value={name:""}}const e=i({show:i(!1),icon:P(),iconColor:"#36A630",hideIcon:!1,title:"Selamat",subtitle:"Nama kategori kemasan berhasil ditambahkan",type:""});function r(){e.value.show=!1}function F(){e.value.type="confirm",e.value.hideIcon=!0,e.value.title="Konfirmasi",e.value.subtitle="Apakah Anda yakin untuk menambah kategori kemasan?",e.value.show=!0}function N(n){e.value.type="failed",e.value.hideIcon=!1,e.value.iconColor="#EB5757",e.value.icon=X,e.value.title="Gagal",Object.keys(n.validation).length>0?e.value.subtitle=n.validation:e.value.subtitle=n.message,e.value.show=!0}function T(){e.value.type="success",e.value.hideIcon=!1,e.value.iconColor="#219653",e.value.icon=Z,e.value.title="Berhasil Tambah Data",e.value.subtitle="Data kategori Kemasan berhasil ditambahkan",e.value.show=!0}async function V(n){var l;n.preventDefault(),await((l=g.value)==null?void 0:l.validate()),F()}return(n,l)=>{const f=L,m=E("router-link"),y=U,A=$,D=G,I=J,j=Y,u=z,C=Q,M=R;return _(),v(k,null,[w("div",ee,[a(f,{style:{"margin-bottom":"4px"}},{default:t(()=>[o("Kategori Kemasan")]),_:1}),a(A,null,{default:t(()=>[a(y,null,{default:t(()=>[a(m,{to:"/setting/kategori-kemasan",class:"text-decoration-none"},{default:t(()=>[o(" Kategori Kemasan ")]),_:1})]),_:1}),a(y,null,{default:t(()=>[o("Tambah Kategori Kemasan")]),_:1})]),_:1}),w("div",ae,[a(j,{ref_key:"formRef",ref:g,class:"form-tnt","show-require-mark":!1,"label-width":80,model:s.value,rules:b.value},{default:t(()=>[a(I,{label:"Nama Kategori",path:"name"},{default:t(()=>[a(D,{value:s.value.name,"onUpdate:value":l[0]||(l[0]=p=>s.value.name=p),placeholder:"Masukkan Nama Kategori"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),a(C,{justify:"center",style:{"margin-top":"24px"}},{default:t(()=>[a(m,{to:"/setting/kategori-kemasan",class:"text-decoration-none"},{default:t(()=>[a(u,{color:"#828282",class:"button-tnt"},{default:t(()=>[o(" Batalkan ")]),_:1})]),_:1}),a(u,{color:"#219653",class:"button-tnt",onClick:V},{default:t(()=>[o(" Simpan ")]),_:1})]),_:1})]),a(M,{show:e.value.show,"onUpdate:show":l[1]||(l[1]=p=>e.value.show=p),icon:e.value.icon,"icon-color":e.value.iconColor,"hide-icon":e.value.hideIcon,title:e.value.title,subtitle:e.value.subtitle},{default:t(()=>[a(C,{justify:"center"},{default:t(()=>[e.value.type=="confirm"?(_(),v(k,{key:0},[a(u,{loading:c.value,color:"#828282",class:"button-tnt",onClick:r},{default:t(()=>[o(" Tutup ")]),_:1},8,["loading"]),a(u,{loading:c.value,color:"#219653",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:x(K,["prevent"])},{default:t(()=>[o(" Yakin ")]),_:1},8,["loading","onClick"])],64)):h("",!0),e.value.type=="success"?(_(),v(k,{key:1},[a(m,{to:"/setting/kategori-kemasan",class:"text-decoration-none"},{default:t(()=>[a(u,{color:"#828282",class:"button-tnt"},{default:t(()=>[o(" Kembali ke Beranda ")]),_:1})]),_:1}),a(u,{color:"#219653",class:"button-tnt",onClick:x(r,["prevent"])},{default:t(()=>[o(" Tambah Lainnya ")]),_:1},8,["onClick"])],64)):h("",!0),e.value.type=="failed"?(_(),H(u,{key:2,color:"#828282",class:"button-tnt",onClick:r},{default:t(()=>[o(" Tutup ")]),_:1})):h("",!0)]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"])],64)}}});export{re as default};
