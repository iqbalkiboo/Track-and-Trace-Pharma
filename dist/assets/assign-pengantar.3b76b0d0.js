import{d as N,u as V,b as j,r as b,W as H,p as K,o as M,h as I,w as t,k as e,q as i,i as s,a,S as R,aG as z,af as J,v as L,a7 as q,K as F,a8 as A,H as E,aj as G,L as Q,ak as W,aM as $,a4 as x}from"./index.21c0d750.js";import{a as X,u as Y}from"./http.7151dc47.js";const Z=a("span",null,[a("b",null,"ID DO "),i(" : PS0001")],-1),ee=a("span",null,[a("b",null,"PIC "),i(" : Sugiono")],-1),te=a("span",null,"Jl. Pamularsih Raya No.Kav67/60, Bongsari, Kec. Seamrang Barat, Kota Semarang Jawa Tengah",-1),ne=a("span",null,[a("b",null,"Tanggal Kirim "),i(" : 12 Januari 2023")],-1),ae=a("span",null,[a("b",null,"Total Qty Packing "),i(" : 23")],-1),oe=a("div",null,"Dikirim Oleh",-1),le=a("div",null,"Tanggal",-1),se=a("div",null,"Diterima Oleh",-1),ie=a("div",null,"Tanggal",-1),ue=a("div",null,"Dokumen Bukti Serah Terima",-1),re=N({__name:"assign-pengantar",setup(_e){const k=V(),w=j(),o=b({user:"",delivery_date:void 0,handover_date:void 0,receiver:{name:""}}),p=b([]);async function S(){}const{data:D}=X("/user/v1/list"),{mutate:T,isLoading:B}=Y("shipping/v1/manifest/assign-porter",{method:"POST",queryOptions:{onSuccess:()=>{k.push("/pengiriman/assign-driver")}},httpOptions:{headers:{"Content-Type":"application/x-www-form-urlencoded"}}}),P=H(()=>{var l,n;return(n=(l=D.value)==null?void 0:l.data.list.map(_=>({label:_.name,value:_.id})))!=null?n:[]});async function O(){var n;const l=new FormData;l.append("manifest_id",w.params.id),l.append("delivery_date",o.value.delivery_date),l.append("handover_date",o.value.delivery_date),l.append("porter_id",o.value.user),l.append("receiver[name]",o.value.receiver.name),(n=p.value)==null||n.forEach(_=>{l.append("image",_.file)}),T(l)}return(l,n)=>{const _=z,f=J,d=L,r=q,c=F,v=K("router-link"),m=A,C=E,g=G,h=Q,y=W,U=$;return M(),I(d,{vertical:"",style:{padding:"1rem"}},{default:t(()=>[e(_,null,{default:t(()=>[i("Direct Manual")]),_:1}),e(m,{cols:12,style:{display:"flex","justify-content":"space-between","align-items":"center"}},{default:t(()=>[e(r,{span:10},{default:t(()=>[e(d,{vertical:"",size:0},{default:t(()=>[e(f,{style:{"margin-bottom":"0"}},{default:t(()=>[i(" ID Manifest: 89098 ")]),_:1}),Z,ee]),_:1})]),_:1}),e(r,{span:10},{default:t(()=>[e(d,{vertical:"",size:0},{default:t(()=>[e(f,{style:{"margin-bottom":"0"}},{default:t(()=>[i(" Tujuan: Indofarma Semarang ")]),_:1}),te]),_:1})]),_:1}),e(r,{span:3},{default:t(()=>[e(v,{to:{path:"/pengiriman/loading/1/print-manifest"}},{default:t(()=>[e(c,{style:{float:"right"}},{default:t(()=>[i(" Cetak Manifest ")]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:12,style:{display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},{default:t(()=>[e(r,{span:12},{default:t(()=>[e(d,{vertical:"",size:0},{default:t(()=>[ne,ae]),_:1})]),_:1})]),_:1}),e(h,{title:"Assign Porter"},{default:t(()=>[e(m,{cols:12,style:{"margin-bottom":"2rem"}},{default:t(()=>[e(r,{span:12},{default:t(()=>[oe,e(C,{value:s(o).user,"onUpdate:value":n[0]||(n[0]=u=>s(o).user=u),options:s(P),placeholder:"Pilih Driver"},null,8,["value","options"])]),_:1}),e(r,{span:12},{default:t(()=>[le,e(g,{"formatted-value":s(o).delivery_date,"onUpdate:formattedValue":n[1]||(n[1]=u=>s(o).delivery_date=u),type:"date",style:{width:"550px","max-width":"200%"}},null,8,["formatted-value"])]),_:1})]),_:1})]),_:1}),e(h,{title:"Penerimaan"},{default:t(()=>[e(m,{cols:12,style:{"margin-bottom":"2rem"}},{default:t(()=>[e(r,{span:12},{default:t(()=>[se,e(y,{value:s(o).receiver.name,"onUpdate:value":n[2]||(n[2]=u=>s(o).receiver.name=u),type:"text",placeholder:"Diambil Oleh",style:{width:"550px","max-width":"200%"}},null,8,["value"])]),_:1}),e(r,{span:12},{default:t(()=>[ie,e(g,{"formatted-value":s(o).handover_date,"onUpdate:formattedValue":n[3]||(n[3]=u=>s(o).handover_date=u),type:"date",style:{width:"550px","max-width":"200%"}},null,8,["formatted-value"])]),_:1})]),_:1}),a("div",null,[ue,e(d,null,{default:t(()=>[e(y,{type:"text",placeholder:"Dokumen Bukti Serah Terima..",readonly:!0,clearable:""}),e(U,{"show-file-list":!1,onBeforeUpload:S,"file-list":s(p),"onUpdate:fileList":n[4]||(n[4]=u=>R(p)?p.value=u:null)},{default:t(()=>[e(c,{color:"#219653",class:"button-tnt"},{default:t(()=>[i("Pilih File")]),_:1})]),_:1},8,["file-list"])]),_:1})])]),_:1}),e(d,{justify:"center",style:{"margin-top":"24px"}},{default:t(()=>[e(v,{to:{path:"/pengiriman/1/list-manifest"},class:"text-decoration-none"},{default:t(()=>[e(c,{color:"#828282",class:"button-tnt"},{default:t(()=>[i("Batalkan")]),_:1})]),_:1}),e(c,{color:"#219653",class:"button-tnt",loading:s(B),onClick:O},{default:t(()=>[i("Simpan ")]),_:1},8,["loading"])]),_:1})]),_:1})}}});typeof x=="function"&&x(re);export{re as default};
