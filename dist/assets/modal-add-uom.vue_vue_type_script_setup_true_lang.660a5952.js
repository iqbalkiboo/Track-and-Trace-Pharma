import{d as D,r as u,f as N,e as q,o as B,h as C,w as t,k as o,q as m,i as a,as as S,ak as R,I as V,J as z,K as E,v as K,L as T,M as A}from"./index.21c0d750.js";import{u as L}from"./uom.5e6088e0.js";const H=D({__name:"modal-add-uom",props:{isShowModal:{type:Boolean}},emits:["hideModal","fetchData","update:isShowModal"],setup(k,{emit:c}){const v=k,i=u(),n=u({}),M=u(),r=u(!1),b=u({name:[{required:!0,validator:(l,e)=>{if(!e||e.length<1)return new Error("Nama Unit of Measurement tidak boleh kosong")},trigger:["input","blur"]}],code:[{required:!0,validator:(l,e)=>{if(!e||e.length<1)return new Error("Kode Customer tidak boleh kosong")},trigger:["input","blur"]}],description:[{required:!0,validator:(l,e)=>{if(!e||e.length<1)return new Error("Deskripsi tidak boleh kosong")},trigger:["input","blur"]}]});N(()=>{i.value=q.getAuth()});const f=()=>{setTimeout(()=>{c("hideModal")},100)};function w(){r.value=!0;let l="";i.value.xxtype==="5up3r4dm1n"?l=i.value["xx-usertype-access"].holding_id:l=i.value.users.user_type.id;const e={holding_id:l,name:n.value.name,description:n.value.description,code:n.value.code};L.createUom(e).then(()=>{r.value=!1,d(),f(),c("fetchData")}).catch(()=>{r.value=!1});function d(){n.value.name=""}}return(l,e)=>{const d=S,p=R,_=V,x=z,h=E,g=K,y=T,U=A;return B(),C(U,{show:v.isShowModal,"onUpdate:show":e[3]||(e[3]=s=>l.$emit("update:isShowModal",s))},{default:t(()=>[o(y,{style:{width:"470px","--n-border-radius":"10px"},"content-style":"padding: 15px 20px 28px 20px;",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:t(()=>[o(g,{vertical:"",size:25},{default:t(()=>[o(d,{style:{"margin-bottom":"0"}},{default:t(()=>[m("Tambah Unit of Measurement")]),_:1}),o(x,{ref_key:"formRef",ref:M,class:"form-tnt",model:a(n),rules:a(b),"show-require-mark":!1},{default:t(()=>[o(_,{path:"name",label:"Nama UoM"},{default:t(()=>[o(p,{value:a(n).name,"onUpdate:value":e[0]||(e[0]=s=>a(n).name=s),placeholder:"Masukkan Nama uom"},null,8,["value"])]),_:1}),o(_,{path:"code",label:"Kode UoM"},{default:t(()=>[o(p,{value:a(n).code,"onUpdate:value":e[1]||(e[1]=s=>a(n).code=s),placeholder:"Masukkan kode uom"},null,8,["value"])]),_:1}),o(_,{label:"Deskripsi",path:"description"},{default:t(()=>[o(p,{value:a(n).description,"onUpdate:value":e[2]||(e[2]=s=>a(n).description=s),placeholder:"Masukkan deskripsi",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),o(g,{justify:"center"},{default:t(()=>[o(h,{color:"#828282",class:"button-tnt",loading:a(r),onClick:f},{default:t(()=>[m("Batalkan")]),_:1},8,["loading"]),o(h,{color:"#219653",class:"button-tnt",loading:a(r),onClick:w},{default:t(()=>[m("Simpan")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});export{H as _};
