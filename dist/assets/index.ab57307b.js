import{_ as U}from"./t-not-granted.vue_vue_type_script_setup_true_lang.a30cf979.js";import{_ as O}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as D,E as q,r as l,f as Y,aF as J,a1 as Q,p as W,o as c,c as C,a as _,k as a,w as t,q as u,i as e,h as f,N as X,j as w,F as K,g as Z,t as ee,ah as b,af as te,am as ae,an as ne,K as oe,v as se,L as ie,ag as le}from"./index.21c0d750.js";import{c as h}from"./constant.549d5c21.js";import{m as B}from"./master-kemasan-kolektif.2fd7ef6d.js";import{_ as E}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{A as ce}from"./AlertCircleOutline.19cf574c.js";import{A as re}from"./Add.4f3b52cf.js";import{H as ue}from"./HelpCircleOutline.a54a41ed.js";import{C as de}from"./CheckmarkCircleOutline.8fddcae1.js";import"./getHoldingId.48f570fc.js";import"./getCompanyId.7d0eb93b.js";const pe={class:"body-tnt"},_e={class:"card-tnt"},fe={key:1,style:{"margin-top":"24px"}},me={style:{display:"flex","justify-content":"space-between","align-items":"center"}},ge={class:"table-footer"},Fe=D({__name:"index",setup(he){const $=q(),d=l(!1),y=l(!1),k=l({}),m=l({search:"",dir:"desc",sort:"created_at",page:1,limit:10}),P=l({id:"",name:""});Y(()=>{J.isGranted(h.accessPrivileges.collectivePackaging+".list")&&v()});async function v(){d.value=!0,await B.getPackagingCollectif(m.value).then(o=>{k.value=o.data.data,d.value=!1,n.value.show=!1}).catch(o=>{d.value=!1;const r=o.response.data;$.error(r.message)})}function A(o){m.value.page=1,m.value.limit=o,v()}const s=l({show:l(!1),icon:Q(),iconColor:"#0b8f9d",hideIcon:!1,title:"Hapus Kategori Kemasan",subtitle:"Apakah Anda yakin untuk menghapus Kategori Kemasan?"});function F(o){s.value.icon=ue,s.value.show=!0,P.value.id=o}function H(){s.value.show=!1}function N(){n.value.icon=de,n.value.iconColor="#219653",n.value.title="Berhasil",n.value.subtitle="Anda berhasil menghapus data tipe produk",n.value.show=!0}const n=l({show:l(!1),icon:ce,iconColor:"#EB5757",hideIcon:!1,title:"Perhatian",subtitle:"Anda tidak dapat menghapus data, karena Kategori Kemasan sudah digunakan"});function j(){n.value.show=!1}function z(){y.value=!0,B.deletePackagingCollectif(P.value.id).then(()=>{y.value=!1,s.value.show=!1,v(),setTimeout(()=>{N()},300)})}return(o,r)=>{const G=te,I=ae,M=ne,p=oe,x=W("router-link"),g=se,S=O,T=ie,V=le,L=U;return c(),C(K,null,[_("div",pe,[a(G,{style:{"margin-bottom":"4px"}},{default:t(()=>[u("Kategori Kemasan")]),_:1}),a(M,null,{default:t(()=>[a(I,null,{default:t(()=>[u("Kategori Kemasan")]),_:1})]),_:1}),_("div",_e,[o.$filters.isGranted(e(h).accessPrivileges.collectivePackaging+".create")?(c(),f(g,{key:0},{default:t(()=>[a(x,{to:"/setting/kategori-kemasan/add",class:"text-decoration-none"},{default:t(()=>[a(p,{color:"#219653",class:"button-tnt"},{icon:t(()=>[a(e(X),null,{default:t(()=>[a(e(re))]),_:1})]),default:t(()=>[u(" Tambah Kategori Kemasan ")]),_:1})]),_:1})]),_:1})):w("",!0),o.$filters.isGranted(e(h).accessPrivileges.collectivePackaging+".list")?(c(),C("div",fe,[e(d)?(c(),f(S,{key:0})):(c(!0),C(K,{key:1},Z(e(k).list,(i,R)=>(c(),f(T,{style:{"margin-bottom":"10px","border-radius":"10px",background:"#f1f3f3"},"content-style":"padding: 15px;",key:R},{default:t(()=>[_("div",me,[_("div",null,ee(i.name),1),_("div",null,[o.$filters.isGranted(e(h).accessPrivileges.collectivePackaging+".update")?(c(),f(g,{key:0},{default:t(()=>[a(x,{to:{name:"setting-kategori-kemasan-id",params:{id:i.id}},style:{"text-decoration":"none"}},{default:t(()=>[a(p,{color:"#F2C94C","text-color":"#1E1E1E",class:"button-tnt",style:{"margin-right":"10px"}},{default:t(()=>[u(" Edit ")]),_:1})]),_:2},1032,["to"])]),_:2},1024)):w("",!0),o.$filters.isGranted(e(h).accessPrivileges.collectivePackaging+".delete")?(c(),f(g,{key:1},{default:t(()=>[a(p,{color:"#EB5757",class:"button-tnt",onClick:b(ke=>F(i.id),["prevent"])},{default:t(()=>[u("Hapus")]),_:2},1032,["onClick"])]),_:2},1024)):w("",!0)])])]),_:2},1024))),128)),_("div",ge,[a(V,{style:{"text-align":"center",diplay:"flex","align-items":"center","justify-content":"center"},page:e(m).page,"onUpdate:page":[r[0]||(r[0]=i=>e(m).page=i),v],"page-count":e(k).total_page,"page-slot":7,"show-size-picker":e(k).total_data>10,"page-sizes":[10,20,30,40,50],"onUpdate:pageSize":A},null,8,["page","page-count","show-size-picker"])])])):(c(),f(L,{key:2}))])]),a(E,{show:e(s).show,"onUpdate:show":r[1]||(r[1]=i=>e(s).show=i),icon:e(s).icon,"icon-color":e(s).iconColor,"hide-icon":e(s).hideIcon,title:e(s).title,subtitle:e(s).subtitle},{default:t(()=>[a(g,{justify:"center"},{default:t(()=>[a(p,{color:"#828282",class:"button-tnt",loading:e(d),onClick:b(H,["prevent"])},{default:t(()=>[u(" Batalkan ")]),_:1},8,["loading","onClick"]),a(p,{color:"#EB5757",class:"button-tnt",loading:e(d),onClick:b(z,["prevent"])},{default:t(()=>[u(" Yakin ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"]),a(E,{show:e(n).show,"onUpdate:show":r[2]||(r[2]=i=>e(n).show=i),icon:e(n).icon,"icon-color":e(n).iconColor,"hide-icon":e(n).hideIcon,title:e(n).title,subtitle:e(n).subtitle},{default:t(()=>[a(g,{justify:"center"},{default:t(()=>[a(p,{color:"#828282",class:"button-tnt",onClick:b(j,["prevent"])},{default:t(()=>[u(" Tutup ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"])],64)}}});export{Fe as default};
