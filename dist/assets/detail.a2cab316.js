import{_ as H}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as I,b as O,E as A,r as k,f as G,p as J,o as s,c as g,i,k as t,h as p,w as e,q as r,t as l,j as U,F as b,g as V,a as w,af as W,K as X,v as Y,s as Z,a7 as ee,a8 as te,ad as ae,ae as ne,L as oe}from"./index.21c0d750.js";import{m as K}from"./monitoring-driver.722fb127.js";import"./getCompanyId.7d0eb93b.js";const se={class:"body-tnt"},re={key:0,class:"card-tnt"},_e={style:{"font-weight":"500"}},ce={class:"card-tnt",style:{"text-align":"center"}},le={class:"bottom-action-button"},de={class:"action-item"},ge=I({__name:"detail",setup(ie){const T=O(),D=A(),N=k(!1);k(!1);const _=k({}),P=k({});G(()=>{R()});async function R(){N.value=!0,await z(),await L(),N.value=!1}async function z(){const v=T.params.id;await K.getDetailMonitoringDriver(v).then(async c=>{_.value=c.data}).catch(c=>{const m=c.response.data;D.error(m.message)})}async function L(){const v={do_id:_.value.id,driver_id:localStorage.getItem("driver_id"),limit:1e3};await K.getManifest(v).then(c=>{P.value=c.data}).catch(c=>{const m=c.response.data;D.error(m.message)})}return(v,c)=>{const m=H,S=W,y=X,o=Y,x=Z,j=ee,q=te,C=ae,E=ne,F=oe,Q=J("router-link");return s(),g("div",se,[i(N)?(s(),g("div",re,[t(m)])):(s(),p(o,{key:1,vertical:""},{default:e(()=>{var M,B;return[t(o,{vertical:""},{default:e(()=>[t(o,{align:"center",justify:"space-between"},{default:e(()=>[t(S,null,{default:e(()=>{var n,a;return[r("Kode Delivery Order : "+l((a=(n=i(_))==null?void 0:n.delivery_order)==null?void 0:a.code),1)]}),_:1}),t(y,{type:"warning",strong:"",round:"",secondary:"",style:{cursor:"default"}},{default:e(()=>{var n,a;return[r(l((a=(n=i(_))==null?void 0:n.delivery_order)==null?void 0:a.status),1)]}),_:1})]),_:1}),U("",!0)]),_:1}),t(E,{cols:"2","item-responsive":"",responsive:"screen","x-gap":"26","y-gap":"16",style:{"margin-top":"0rem"}},{default:e(()=>[t(C,{span:"2 s:2 m:1"},{default:e(()=>[t(y,{block:"",class:"button-tnt",style:{cursor:"default"}},{default:e(()=>{var n,a,d;return[r("Qty Manifest : "+l((d=(a=(n=i(_))==null?void 0:n.delivery_order)==null?void 0:a.total)==null?void 0:d.manifest),1)]}),_:1})]),_:1}),t(C,{span:"2 s:2 m:1"},{default:e(()=>[t(y,{block:"",class:"button-tnt",style:{cursor:"default"}},{default:e(()=>{var n,a,d;return[r("Qty Packing : "+l((d=(a=(n=i(_))==null?void 0:n.delivery_order)==null?void 0:a.total)==null?void 0:d.qty_packed),1)]}),_:1})]),_:1})]),_:1}),((B=(M=i(_))==null?void 0:M.drivers)==null?void 0:B.length)>0?(s(),p(o,{key:0,vertical:"",style:{"margin-top":"1rem"}},{default:e(()=>{var n;return[(s(!0),g(b,null,V((n=i(_))==null?void 0:n.drivers,(a,d)=>(s(),p(F,{key:d,style:{"border-radius":"8px"},"content-style":{background:"#eee",borderRadius:"8px"}},{default:e(()=>[t(o,{vertical:"",size:10},{default:e(()=>[t(q,{cols:12},{default:e(()=>[t(j,{span:12},{default:e(()=>[t(o,{vertical:"",style:{"font-size":"14px"}},{default:e(()=>[w("div",_e," Nama Driver : "+l(a.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),(s(!0),g(b,null,V(a==null?void 0:a.logs,(f,$)=>(s(),p(o,{key:$,vertical:"",style:{padding:"1rem",background:"#dfdfdf","border-radius":"8px"}},{default:e(()=>[t(o,{vertical:"",size:10},{default:e(()=>[t(x,{strong:""},{default:e(()=>[r("Kode Manifest : "+l(f.manifest.code),1)]),_:2},1024),t(x,null,{default:e(()=>{var u,h;return[r("Plat Nomor : "+l((h=(u=f.driver)==null?void 0:u.vehicle)==null?void 0:h.plate_number),1)]}),_:2},1024),(s(!0),g(b,null,V(f==null?void 0:f.packings,(u,h)=>(s(),p(o,{key:h,vertical:"",style:{padding:"1rem",background:"#cfcfcf","border-radius":"8px"}},{default:e(()=>[t(o,{vertical:"",size:0},{default:e(()=>[t(x,null,{default:e(()=>[r("Kode Packing : "+l(u==null?void 0:u.code),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))]}),_:1})):(s(),p(o,{key:1,vertical:""},{default:e(()=>[w("div",ce,[t(x,null,{default:e(()=>[r("Belum ada data driver tersedia")]),_:1})])]),_:1}))]}),_:1})),w("div",le,[w("div",de,[t(Q,{to:{name:"pengiriman-monitoring"},class:"text-decoration-none"},{default:e(()=>[t(y,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:e(()=>[r("Kembali")]),_:1})]),_:1})])])])}}});export{ge as default};
