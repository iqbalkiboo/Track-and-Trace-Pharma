import{_ as J}from"./t-feedback.vue_vue_type_script_setup_true_lang.83eb0b14.js";import{d as Q,E as Y,r as m,a1 as W,p as X,o as h,c as C,a as H,k as e,w as a,q as s,t as T,i as c,F as y,g as Z,h as I,ah as ee,j as x,af as ae,am as te,an as le,ak as ne,I as oe,aP as se,aQ as ue,aR as ce,b1 as re,aS as de,bt as ie,aT as _e,aa as pe,J as fe,v as me,K as ve}from"./index.21c0d750.js";import{a as ke}from"./hak-akses.99e628b7.js";import{A as he}from"./AlertCircleOutline.19cf574c.js";import{C as be}from"./CheckmarkCircleOutline.8fddcae1.js";import"./getCompanyId.7d0eb93b.js";const ge={class:"body-tnt"},we={class:"card-tnt"},Ce={class:"table-tnt",style:{"margin-top":"5px"}},Be=Q({__name:"oldindex",setup(ye){const R=Y(),A=m(null),B=m();B.value={name:{required:!0,message:"Nama hak akses tidak boleh kosong",trigger:"blur"}};const b=m({}),o=m([{name:"Penerimaan",selected:!1,add:!1,edit:!1,view:!1,delete:!1,export:!1,import:!1},{name:"Penyimpanan",selected:!1,add:!1,edit:!1,view:!1,delete:!1,export:!1,import:!1},{name:"Pengepakan",selected:!1,add:!1,edit:!1,view:!1,delete:!1,export:!1,import:!1},{name:"Pengiriman",selected:!1,add:!1,edit:!1,view:!1,delete:!1,export:!1,import:!1},{name:"Setting",selected:!1,add:!1,edit:!1,view:!1,delete:!1,export:!1,import:!1}]);async function v(d,r,n){if(!o.value[n].add&&!o.value[n].edit&&!o.value[n].delete&&!o.value[n].view&&!o.value[n].export&&!o.value[n].import)o.value[n].selected=!1;else if(d==!0)switch(o.value[n].selected=!0,r){case"add":o.value[n].add=!0;break;case"edit":o.value[n].edit=!0;break;case"delete":o.value[n].delete=!0;break;case"view":o.value[n].view=!0;break;case"export":o.value[n].export=!0;break;case"import":o.value[n].import=!0;break}else switch(r){case"add":o.value[n].add=!1;break;case"edit":o.value[n].edit=!1;break;case"delete":o.value[n].delete=!1;break;case"view":o.value[n].view=!1;break;case"export":o.value[n].export=!1;break;case"import":o.value[n].import=!1;break}}async function E(d){var r;d.preventDefault(),await((r=A.value)==null?void 0:r.validate().then(()=>{V()}).catch(()=>{R.error("Form tidak valid, tolong periksa kembali")}))}const g=m(!1),t=m({show:m(!1),icon:W(),iconColor:"",hideIcon:!1,title:"",subtitle:"",type:""});function w(){t.value.show=!1}function M(){g.value=!0;const d={limit:"20"};ke.getRole(d).then(()=>{b.value={name:""},g.value=!1,w(),setTimeout(()=>{P()},300)}).catch(r=>{t.value.type="error",t.value.hideIcon=!1,t.value.iconColor="#EB5757",t.value.icon=he,t.value.title="Gagal",t.value.subtitle=r.data.message,t.value.show=!0})}function V(){t.value.type="confirm",t.value.hideIcon=!0,t.value.title="Konfirmasi",t.value.subtitle="Apakah Anda yakin untuk menambah hak akses?",t.value.show=!0}function P(){t.value.type="success",t.value.hideIcon=!1,t.value.iconColor="#219653",t.value.icon=be,t.value.title="Berhasil Tambah Data",t.value.subtitle="Data hak akses berhasil ditambahkan",t.value.show=!0}return(d,r)=>{const n=ae,U=X("router-link"),N=te,S=le,D=ne,L=oe,i=se,F=ue,j=ce,q=re,_=de,k=ie,K=_e,O=pe,z=fe,$=me,p=ve,G=J;return h(),C(y,null,[H("div",ge,[e(n,{style:{"margin-bottom":"4px"}},{default:a(()=>[s(T(d.$route.params.crud=="create"?"Tambah Hak akses":"Edit Hak akses"),1)]),_:1}),e(S,null,{default:a(()=>[e(N,null,{default:a(()=>[e(U,{to:"/setting/hak-akses",class:"text-decoration-none"},{default:a(()=>[s(" Hak Akses ")]),_:1})]),_:1}),e(N,null,{default:a(()=>[s(T(d.$route.params.crud=="create"?"Tambah Hak akses":"Edit Hak akses"),1)]),_:1})]),_:1}),H("div",we,[e($,{vertical:"",size:24},{default:a(()=>[e(z,{ref_key:"formRef",ref:A,class:"form-tnt",model:c(b),rules:c(B),"show-require-mark":!1},{default:a(()=>[e(L,{path:"name",label:"Nama Hak Akses"},{default:a(()=>[e(D,{value:c(b).name,"onUpdate:value":r[0]||(r[0]=l=>c(b).name=l),placeholder:"Masukkan Nama Hak Akses"},null,8,["value"])]),_:1}),H("div",Ce,[e(O,{"bottom-bordered":!1,bordered:!1,"single-line":!0},{default:a(()=>[e(j,null,{default:a(()=>[e(F,null,{default:a(()=>[e(i,null,{default:a(()=>[s("Nama Menu")]),_:1}),e(i,null,{default:a(()=>[s("Tambah")]),_:1}),e(i,null,{default:a(()=>[s("Ubah")]),_:1}),e(i,null,{default:a(()=>[s("Lihat")]),_:1}),e(i,null,{default:a(()=>[s("Hapus")]),_:1}),e(i,null,{default:a(()=>[s("Export")]),_:1}),e(i,null,{default:a(()=>[s("Import")]),_:1})]),_:1})]),_:1}),e(K,null,{default:a(()=>[(h(!0),C(y,null,Z(c(o),(l,f)=>(h(),I(F,{key:f},{default:a(()=>[e(_,{style:{width:"20%"}},{default:a(()=>[e(q,{checked:l.selected,style:{"margin-right":"10px"}},null,8,["checked"]),s(" "+T(l.name),1)]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.add,"onUpdate:value":[u=>l.add=u,u=>v(l.add,"add",f)]},null,8,["value","onUpdate:value"])]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.edit,"onUpdate:value":[u=>l.edit=u,u=>v(l.edit,"edit",f)]},null,8,["value","onUpdate:value"])]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.view,"onUpdate:value":[u=>l.view=u,u=>v(l.view,"view",f)]},null,8,["value","onUpdate:value"])]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.delete,"onUpdate:value":[u=>l.delete=u,u=>v(l.delete,"delete",f)]},null,8,["value","onUpdate:value"])]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.export,"onUpdate:value":[u=>l.export=u,u=>v(l.export,"export",f)]},null,8,["value","onUpdate:value"])]),_:2},1024),e(_,null,{default:a(()=>[e(k,{value:l.import,"onUpdate:value":[u=>l.import=u,u=>v(l.import,"import",f)]},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1},8,["model","rules"])]),_:1})]),e($,{justify:"center",style:{"margin-top":"24px"}},{default:a(()=>[e(U,{to:{name:"setting-hak-akses"},class:"text-decoration-none"},{default:a(()=>[e(p,{color:"#828282",class:"button-tnt"},{default:a(()=>[s("Batalkan")]),_:1})]),_:1}),e(p,{color:"#219653",class:"button-tnt",onClick:E},{default:a(()=>[s("Simpan")]),_:1})]),_:1})]),e(G,{show:c(t).show,"onUpdate:show":r[1]||(r[1]=l=>c(t).show=l),icon:c(t).icon,"icon-color":c(t).iconColor,"hide-icon":c(t).hideIcon,title:c(t).title,subtitle:c(t).subtitle},{default:a(()=>[e($,{justify:"center"},{default:a(()=>[c(t).type=="confirm"?(h(),C(y,{key:0},[e(p,{loading:c(g),color:"#828282",class:"button-tnt",onClick:w},{default:a(()=>[s(" Tutup ")]),_:1},8,["loading"]),e(p,{loading:c(g),color:"#219653",class:"button-tnt",style:{"padding-left":"25px","padding-right":"25px"},onClick:ee(M,["prevent"])},{default:a(()=>[s(" Yakin ")]),_:1},8,["loading","onClick"])],64)):x("",!0),c(t).type=="success"?(h(),C(y,{key:1},[e(p,{color:"#828282",class:"button-tnt",onClick:w},{default:a(()=>[s(" Tambah Lainya ")]),_:1}),e(U,{to:{name:"setting-hak-akses"},class:"text-decoration-none"},{default:a(()=>[e(p,{color:"#219653",class:"button-tnt"},{default:a(()=>[s(" Kembali ke Beranda ")]),_:1})]),_:1})],64)):x("",!0),c(t).type=="failed"?(h(),I(p,{key:2,color:"#828282",class:"button-tnt",onClick:w},{default:a(()=>[s(" Tutup ")]),_:1})):x("",!0)]),_:1})]),_:1},8,["show","icon","icon-color","hide-icon","title","subtitle"])],64)}}});export{Be as default};
