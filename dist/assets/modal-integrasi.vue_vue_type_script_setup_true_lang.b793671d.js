import{d as j,E as N,r as f,G as T,W as $,o as k,h as g,w as e,k as t,q as a,t as C,i as u,ah as c,as as I,v as U,s as V,a9 as q,K as A,L as E,M as G}from"./index.21c0d750.js";import{s as H}from"./serialisasi.378d5040.js";const W=j({__name:"modal-integrasi",props:{show:{type:Boolean,default:!1},afterSend:{type:Boolean},serializeLevelDataRes:{},printerDriverDataRes:{}},emits:["update:show","click:close","click:see-data","click:send-data","click:print","click:reset-insert","click:log-print"],setup(v,{emit:r}){const w=v,y=N(),d=f(!1),_=f(!1),p=f({});T(()=>w.show,n=>{n&&b()});async function b(){const l={printer_key:localStorage.getItem("select-printer")};d.value=!0,await H.postStatusDriverPrinter(l).then(o=>{d.value=!1,p.value=o.data}).catch(o=>{if(o.response){const s=o.response.data;y.error(s.message)}d.value=!1})}const S=$(()=>{var n,l,o;if((n=p.value)!=null&&n.message)return(o=(l=p.value)==null?void 0:l.message[0])==null?void 0:o.status}),m=()=>{setTimeout(()=>{r("click:close")},100)},D=()=>{r("click:see-data")},h=()=>{r("click:print")},L=()=>{r("click:reset-insert")},B=()=>{r("click:log-print")};return(n,l)=>{const o=I,s=U,P=V,R=q,i=A,z=E,M=G;return k(),g(M,{show:n.show,"onUpdate:show":l[0]||(l[0]=x=>n.$emit("update:show",x))},{default:e(()=>[t(z,{style:{width:"620px","--n-border-radius":"10px"},bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:e(()=>[t(s,{vertical:"",size:24},{default:e(()=>[t(s,{vertical:"",align:"start"},{default:e(()=>[t(o,{style:{"margin-bottom":"0"}},{default:e(()=>[a("Cetak QR Code Level 1")]),_:1})]),_:1}),t(s,{justify:"space-between"},{default:e(()=>[t(P,null,{default:e(()=>[a("Total "+C(n.serializeLevelDataRes.list.length),1)]),_:1}),t(R,{bordered:!1,round:""},{default:e(()=>[a(" Status Print : "+C(u(S)),1)]),_:1})]),_:1}),n.$props.afterSend?(k(),g(s,{key:1,justify:"center"},{default:e(()=>[t(i,{color:"#828282",class:"button-tnt",onClick:c(m,["prevent"])},{default:e(()=>[a("Batalkan")]),_:1},8,["onClick"]),t(i,{loading:u(_),color:"#219653",class:"button-tnt",onClick:c(h,["prevent"])},{default:e(()=>[a("Cetak")]),_:1},8,["loading","onClick"])]),_:1})):(k(),g(s,{key:0,justify:"center"},{default:e(()=>[t(i,{color:"#828282",class:"button-tnt",onClick:c(m,["prevent"])},{default:e(()=>[a("Batalkan")]),_:1},8,["onClick"]),t(i,{type:"primary",class:"button-tnt",onClick:c(D,["prevent"])},{default:e(()=>[a("Lihat Data")]),_:1},8,["onClick"]),t(i,{loading:u(_),color:"#219653",class:"button-tnt",onClick:c(h,["prevent"])},{default:e(()=>[a("Cetak")]),_:1},8,["loading","onClick"]),t(i,{loading:u(_),type:"warning",class:"button-tnt",onClick:c(L,["prevent"])},{default:e(()=>[a("Alur Ulang")]),_:1},8,["loading","onClick"])]),_:1})),t(s,null,{default:e(()=>[t(i,{text:"",color:"#828282",onClick:c(B,["prevent"])},{default:e(()=>[a("Report Print")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});export{W as _};
