import{d as P,r as u,f as D,e as N,o as q,h as B,w as a,k as o,q as c,i as n,as as S,ak as C,I as R,J as U,K as V,v as z,L as E,M as K}from"./index.21c0d750.js";import{t as A}from"./type.86a7443c.js";const F=P({__name:"modal-add-type",props:{isShowModal:{type:Boolean}},emits:["hideModal","fetchData","update:isShowModal"],setup(g,{emit:m}){const v=g,d=u(),t=u({}),b=u(),s=u(!1),w=u({name:[{required:!0,validator:(r,e)=>{if(!e||e.length<1)return new Error("Nama Tipe Produk tidak boleh kosong")},trigger:["input","blur"]}],code:[{required:!0,validator:(r,e)=>{if(!e||e.length<1)return new Error("Kode Tipe Produk tidak boleh kosong")},trigger:["input","blur"]}],description:[{required:!0,validator:(r,e)=>{if(!e||e.length<1)return new Error("Deskripsi tidak boleh kosong")},trigger:["input","blur"]}]});D(()=>{d.value=N.getAuth()});const f=()=>{setTimeout(()=>{m("hideModal")},100)};function x(){s.value=!0;let r="";d.value.xxtype==="5up3r4dm1n"?r=d.value["xx-usertype-access"].holding_id:r=d.value.users.user_type.id;const e={holding_id:r,name:t.value.name,description:t.value.description,erp_code:t.value.erp_code};A.createType(e).then(()=>{s.value=!1,i(),f(),m("fetchData")}).catch(()=>{s.value=!1});function i(){t.value.name=""}}return(r,e)=>{const i=S,p=C,_=R,y=U,k=V,h=z,M=E,T=K;return q(),B(T,{show:v.isShowModal,"onUpdate:show":e[3]||(e[3]=l=>r.$emit("update:isShowModal",l))},{default:a(()=>[o(M,{style:{width:"470px","--n-border-radius":"10px"},"content-style":"padding: 15px 20px 28px 20px;",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:a(()=>[o(h,{vertical:"",size:25},{default:a(()=>[o(i,{style:{"margin-bottom":"0"}},{default:a(()=>[c("Tambah Tipe Produk")]),_:1}),o(y,{ref_key:"formRef",ref:b,class:"form-tnt",model:n(t),rules:n(w),"show-require-mark":!1},{default:a(()=>[o(_,{path:"name",label:"Nama Tipe Produk"},{default:a(()=>[o(p,{value:n(t).name,"onUpdate:value":e[0]||(e[0]=l=>n(t).name=l),placeholder:"Masukkan Nama Tipe Produk"},null,8,["value"])]),_:1}),o(_,{path:"erp_code",label:"Kode Tipe Produk"},{default:a(()=>[o(p,{value:n(t).erp_code,"onUpdate:value":e[1]||(e[1]=l=>n(t).erp_code=l),placeholder:"Masukkan kode Tipe Produk"},null,8,["value"])]),_:1}),o(_,{label:"Deskripsi",path:"description"},{default:a(()=>[o(p,{value:n(t).description,"onUpdate:value":e[2]||(e[2]=l=>n(t).description=l),placeholder:"Masukkan deskripsi",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),o(h,{justify:"center"},{default:a(()=>[o(k,{color:"#828282",class:"button-tnt",loading:n(s),onClick:f},{default:a(()=>[c("Batalkan")]),_:1},8,["loading"]),o(k,{color:"#219653",class:"button-tnt",loading:n(s),onClick:x},{default:a(()=>[c("Simpan")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});export{F as _};
