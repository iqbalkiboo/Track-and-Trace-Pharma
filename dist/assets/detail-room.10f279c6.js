import{_ as rt}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as dt,b as ut,u as _t,E as ct,r as C,f as pt,p as mt,o as m,c as f,k as l,w as s,q as d,t as i,i as o,ah as v,aY as b,a as t,aZ as k,h as H,F as J,g as gt,j as ht,af as ft,aJ as yt,s as vt,v as bt,ak as kt,a7 as xt,a9 as wt,a8 as Nt,K as $t,aa as Ct,ab as St,ag as Tt,L as Rt}from"./index.21c0d750.js";import{m as O}from"./master-warehouse.353b4b3b.js";import"./getCompanyId.7d0eb93b.js";const zt={class:"body-tnt"},Dt=["value"],Bt={style:{display:"flex","align-items":"end"}},Kt=t("thead",null,[t("tr",null,[t("th",{style:{width:"20%"}},"Non Rack"),t("th",{style:{width:"15%","text-align":"right"}},"Kapasitas(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Terisi(m3)"),t("th",{style:{width:"15%","text-align":"right"}},"Usage(%)"),t("th",{style:{width:"10%","text-align":"right"}},"Total SKU"),t("th",{style:{width:"10%","text-align":"right"}},"Total Stok"),t("th",{style:{width:"15%","text-align":"center"}},"Aksi")])],-1),Pt={key:0},jt=["value"],It={style:{"text-align":"right"}},Ut={style:{"text-align":"right"}},Lt={style:{"text-align":"right"}},Mt={style:{"text-align":"right"}},Et={style:{"text-align":"right"}},Vt={style:{"text-align":"center"}},At={key:1},Ft=t("td",{colspan:"7",style:{"text-align":"center"}},"Belum ada data non rack tersedia",-1),Ht=[Ft],Jt=t("thead",null,[t("tr",null,[t("th",null,"Jenis"),t("th",null,"Nama"),t("th",{style:{"text-align":"right"}},"Kapasitas(m3)"),t("th",{style:{"text-align":"right"}},"Terisi(m3)"),t("th",{style:{"text-align":"right"}},"Usage(%)"),t("th",{style:{"text-align":"right"}},"Total SKU"),t("th",{style:{"text-align":"right"}},"Total Stok"),t("th",{style:{width:"12rem","text-align":"center"}},"Aksi")])],-1),Ot=["value","id"],qt={style:{"text-align":"right"}},Wt={style:{"text-align":"right"}},Yt={style:{"text-align":"right"}},Zt={style:{"text-align":"right"}},Gt={style:{"text-align":"right"}},Qt={style:{"text-align":"center"}},Xt={key:1},te=t("td",{colspan:"8",style:{"text-align":"center"}},"Belum ada data room tersedia",-1),ee=[te],oe={style:{"margin-top":"14px",display:"flex","justify-content":"center"}},ae={class:"bottom-action-button"},le={class:"action-item"},_e=dt({__name:"detail-room",setup(se){const K=ut(),S=_t(),T=ct(),R=C(!1),n=C({}),y=C({}),q=localStorage.getItem("building_id"),u=C({search:"",sort:"desc",sort_field:"created_at",page:1,limit:10});pt(()=>{P()});async function P(){W(),await D()}async function W(){const a=K.params.id;await O.getDetailRoom(a).then(r=>{n.value=r.data}).catch(r=>{const c=r.response.data;T.error(c.message)})}async function D(){R.value=!0,u.value.warehouse_id=localStorage.getItem("plant_id"),u.value.building_id=localStorage.getItem("building_id"),u.value.room_id=K.params.id,await O.getRackPallete(u.value).then(a=>{y.value=a.data,R.value=!1}).catch(a=>{const r=a.response.data;T.error(r.message),R.value=!1})}function Y(a){u.value.page=1,u.value.limit=a,D()}const j=C(0);function Z(){clearTimeout(j.value),j.value=setTimeout(function(){D()},600)}function I(){const a=document.getElementById("copyCode");a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),T.success("Kode erp tersalin")}function G(a,r){const c=document.getElementById("copyCodeRack"+a+r);c.select(),c.setSelectionRange(0,99999),navigator.clipboard.writeText(c.value),T.success("Kode erp tersalin")}function Q(a,r,c){localStorage.setItem("room_id",a),c==="rack"?S.push({name:"penyimpanan-stok-id-detail-rack",params:{id:r}}):S.push({name:"penyimpanan-stok-id-detail-pallete",params:{id:r}})}function X(a,r){localStorage.setItem("warehouse_type",a),localStorage.setItem("room_id",r),S.push({name:"penyimpanan-stok-id-detail-list-product",params:{id:r}})}function tt(a,r,c){localStorage.setItem("warehouse_type",a),localStorage.setItem("room_id",c),S.push({name:"penyimpanan-stok-id-detail-list-product",params:{id:r}})}return(a,r)=>{const c=ft,et=yt,p=vt,g=bt,ot=kt,B=xt,U=wt,at=Nt,lt=rt,z=$t,L=Ct,M=St,st=Tt,nt=Rt,it=mt("router-link");return m(),f("div",zt,[l(g,{vertical:"",size:14},{default:s(()=>[l(g,{justify:"space-between"},{default:s(()=>[l(g,{vertical:"",size:0},{default:s(()=>[l(c,{style:{"margin-bottom":"4px"}},{default:s(()=>{var e;return[d(i((e=o(n).warehouse)==null?void 0:e.name),1)]}),_:1}),l(et,{style:{"margin-bottom":"4px"}},{default:s(()=>{var e,_,h;return[d(i(Object.keys(o(n)).length>0?((_=(e=o(n))==null?void 0:e.warehouse_building)==null?void 0:_.name)+" / "+((h=o(n))==null?void 0:h.name):""),1)]}),_:1}),l(p,{type:"primary",strong:"",style:{cursor:"pointer"},onClick:v(I,["prevent"])},{default:s(()=>[d(i(o(n).erp_code),1)]),_:1},8,["onClick"]),b(t("div",null,[b(t("input",{type:"text",value:o(n).erp_code,id:"copyCode"},null,8,Dt),[[k,!1]])],512),[[k,!1]])]),_:1}),t("div",Bt,[l(ot,{value:o(u).search,"onUpdate:value":r[0]||(r[0]=e=>o(u).search=e),onKeyup:Z,type:"text",placeholder:"Cari nama rack/pallete",style:{width:"300px","max-width":"200%"}},null,8,["value"])])]),_:1}),l(at,{cols:12},{default:s(()=>[l(B,{span:4},{default:s(()=>[l(g,{vertical:""},{default:s(()=>[l(p,null,{default:s(()=>[d("Kapsitas(m\xB3) : "+i(a.$filters.toNumber(o(n).volume)),1)]),_:1}),l(p,null,{default:s(()=>{var e;return[d("Terisi(m\xB3) : "+i(a.$filters.toNumber((e=o(n).results)==null?void 0:e.total_used_volume)),1)]}),_:1}),l(p,null,{default:s(()=>{var e;return[d("Usage(%) : "+i(a.$filters.toNumber((e=o(n).results)==null?void 0:e.total_used_volume_percent)),1)]}),_:1})]),_:1})]),_:1}),l(B,{span:4},{default:s(()=>[l(g,{vertical:""},{default:s(()=>[l(p,null,{default:s(()=>{var e;return[d("Total SKU : "+i(a.$filters.toNumber((e=o(n).results)==null?void 0:e.total_product)),1)]}),_:1}),l(p,null,{default:s(()=>{var e;return[d("Total Stok : "+i(a.$filters.toNumber((e=o(n).results)==null?void 0:e.total_first_level)),1)]}),_:1})]),_:1})]),_:1}),l(B,{span:16},{default:s(()=>[l(U,{bordered:!1,style:{"margin-right":"10px",width:"10rem",height:"2rem","justify-content":"center"}},{default:s(()=>{var e,_;return[d(i(a.$filters.toNumber((e=o(n).counts)==null?void 0:e.rack))+" Rack ("+i(a.$filters.toNumber((_=o(n).counts)==null?void 0:_.bin))+" Bin) ",1)]}),_:1}),l(U,{bordered:!1,style:{"margin-right":"10px",width:"8rem",height:"2rem","justify-content":"center"}},{default:s(()=>{var e;return[d(i(a.$filters.toNumber((e=o(n).counts)==null?void 0:e.pallete))+" Pallete ",1)]}),_:1})]),_:1})]),_:1}),l(nt,{style:{"margin-bottom":"1rem","border-radius":"10px"}},{default:s(()=>[o(R)?(m(),H(lt,{key:0})):(m(),f(J,{key:1},[l(M,{"x-scrollable":""},{default:s(()=>[l(L,{bordered:!1,"single-line":!1},{default:s(()=>{var e,_,h,x,w,N,$,E,V,A,F;return[Kt,t("tbody",null,[Object.keys(o(n)).length>0?(m(),f("tr",Pt,[t("td",null,[t("div",null,[d(i((e=o(n))==null?void 0:e.name)+" ",1),l(p,{type:"primary",strong:"",style:{"font-size":"11px",display:"block",cursor:"pointer"},onClick:v(I,["prevent"])},{default:s(()=>[d(i(o(n).erp_code),1)]),_:1},8,["onClick"])]),b(t("div",null,[b(t("input",{type:"text",value:o(n).erp_code,id:"copyCode"},null,8,jt),[[k,!1]])],512),[[k,!1]])]),t("td",It,i(a.$filters.toNumber(o(n).volume)),1),t("td",Ut,i(a.$filters.toNumber((h=(_=o(n))==null?void 0:_.results)==null?void 0:h.total_used_volume)),1),t("td",Lt,i(a.$filters.toNumber((w=(x=o(n))==null?void 0:x.results)==null?void 0:w.total_used_volume_percent)),1),t("td",Mt,i(a.$filters.toNumber((E=($=(N=o(n))==null?void 0:N.results)==null?void 0:$.current)==null?void 0:E.total_product)),1),t("td",Et,i(a.$filters.toNumber((F=(A=(V=o(n))==null?void 0:V.results)==null?void 0:A.current)==null?void 0:F.total_first_level)),1),t("td",Vt,[l(g,{justify:"center"},{default:s(()=>[l(z,{tertiary:"",onClick:r[1]||(r[1]=v(ne=>X("room_non_rack",o(n).id),["prevent"]))},{default:s(()=>[d(" List Produk ")]),_:1})]),_:1})])])):(m(),f("tr",At,Ht))])]}),_:1})]),_:1}),l(M,{"x-scrollable":""},{default:s(()=>[l(L,{bordered:!1,"single-line":!1,style:{"margin-top":"24px"}},{default:s(()=>[Jt,t("tbody",null,[o(y).list&&o(y).list.length>0?(m(!0),f(J,{key:0},gt(o(y).list,(e,_)=>{var h,x,w,N;return m(),f("tr",{key:_},[t("td",null,[l(g,{vertical:"",size:0},{default:s(()=>[l(p,{style:{"text-transform":"capitalize"}},{default:s(()=>[d(i(e.kind),1)]),_:2},1024),l(p,{type:"primary",strong:"",style:{"font-size":"11px",display:"block",cursor:"pointer"},onClick:v($=>G(_,e.erp_code),["prevent"])},{default:s(()=>[d(i(e.erp_code),1)]),_:2},1032,["onClick"])]),_:2},1024),b(t("div",null,[b(t("input",{type:"text",value:e.erp_code,id:"copyCodeRack"+_+e.erp_code},null,8,Ot),[[k,!1]])],512),[[k,!1]])]),t("td",null,i(e.name),1),t("td",qt,i(a.$filters.toNumber(e.volume)),1),t("td",Wt,i(a.$filters.toNumber((h=e.results)==null?void 0:h.total_used_volume)),1),t("td",Yt,i(a.$filters.toNumber((x=e.results)==null?void 0:x.total_used_volume_percent)),1),t("td",Zt,i(a.$filters.toNumber((w=e.results)==null?void 0:w.total_product)),1),t("td",Gt,i(a.$filters.toNumber((N=e.results)==null?void 0:N.total_first_level)),1),t("td",Qt,[l(g,{justify:"center"},{default:s(()=>[e.kind==="rack"?(m(),H(z,{key:0,tertiary:"",onClick:v($=>Q(o(n).id,e.id,e.kind),["prevent"])},{default:s(()=>[d(" Detail ")]),_:2},1032,["onClick"])):ht("",!0),l(z,{tertiary:"",onClick:v($=>tt("rack_pallete",e.id,o(n).id),["prevent"])},{default:s(()=>[d(" List Produk ")]),_:2},1032,["onClick"])]),_:2},1024)])])}),128)):(m(),f("tr",Xt,ee))])]),_:1})]),_:1})],64)),t("div",oe,[l(st,{page:o(u).page,"onUpdate:page":[r[2]||(r[2]=e=>o(u).page=e),P],"page-size":o(u).limit,"onUpdate:pageSize":[r[3]||(r[3]=e=>o(u).limit=e),Y],"page-count":o(y).total_page,"page-slot":7,"show-size-picker":o(y).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])]),_:1})]),_:1}),t("div",ae,[t("div",le,[l(it,{to:{name:"penyimpanan-stok-id-detail-building",params:{id:o(q)}},class:"text-decoration-none"},{default:s(()=>[l(z,{color:"#828282",class:"button-tnt",style:{width:"120px"}},{default:s(()=>[d("Kembali")]),_:1})]),_:1},8,["to"])])])])}}});export{_e as default};
