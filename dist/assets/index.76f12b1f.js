import{_ as W}from"./t-loading.vue_vue_type_script_setup_true_lang.71bf4981.js";import{d as X,u as Y,E as Z,r as _,f as ee,o as r,c as m,k as t,w as n,q as f,a as e,i as a,h as z,F as te,g as ae,t as c,N as ne,af as oe,am as se,an as le,v as ie,ak as _e,ad as re,H as ce,ae as ue,a9 as de,K as pe,y as me,aa as ge,ab as fe,ag as he}from"./index.21c0d750.js";import{r as ve}from"./render-icon.8c81e0de.js";import{m as ye}from"./monitoring-driver.722fb127.js";import{S as be}from"./setStatus.eab5cece.js";import{E as ke}from"./EllipsisVertical.56989e7a.js";import{S as Se}from"./SearchOutline.47b929a4.js";import"./getCompanyId.7d0eb93b.js";const xe={class:"body-tnt"},De={class:"card-tnt"},we={class:"table-tnt"},Me=e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"center"}},"No"),e("th",null,"ID DO"),e("th",{style:{"text-align":"center"}},"Qty Manifest"),e("th",null,"Tujuan"),e("th",{style:{"text-align":"center"}},"Qty Packing"),e("th",null,"Status"),e("th",{style:{"text-align":"center"}},"Aksi")])],-1),ze={"data-label":"No",style:{"text-align":"center"}},Ne={"data-label":"Kode Delivery Order"},Te={"data-label":"Qty Manifest ",style:{"text-align":"center"}},Be={"data-label":"Tujuan"},Le={"data-label":"Qty Packing ",style:{"text-align":"center"}},Oe={"data-label":"Status"},Pe={"data-label":"Aksi",style:{"text-align":"center"}},Ue={key:1},Ee=e("td",{colspan:"9",style:{"text-align":"center !important"},class:"not-content"}," Belum ada data tersedia ",-1),Ie=[Ee],Qe={class:"table-footer"},He=X({__name:"index",setup(Ve){const h=Y(),N=Z(),p=_(!0),g=_(!1),u=_({}),o=_({search:"",status:"",sort:"created_at",dir:"desc",page:1,limit:10}),T=new be,B=_([{label:"Perlu Agregasi",value:"perlu_agregasi"},{label:"Ready to Delivery",value:"ready_to_delivery"},{label:"On Delivery",value:"on_delivery"},{label:"finish",value:"Finish"}]),L=[{label:"Lihat Detail",key:"detail",icon:ve(Se)}];ee(()=>{d()});async function d(){p.value=!0,g.value=!0,await ye.getMonitoringDriver(o.value).then(l=>{u.value=l.data,p.value=!1,g.value=!1}).catch(l=>{p.value=!1,g.value=!1;const i=l.response.data;N.error(i.message)})}const v=_(0);function O(){o.value.page=1,clearTimeout(v.value),v.value=setTimeout(function(){d()},600)}function P(l){o.value.page=1,o.value.limit=l,d()}function U(l){o.value.status=l||null,d()}function E(l,i){switch(l){case"detail":h.push({name:"pengiriman-monitoring-id-detail",params:{id:i}});break;case"lacak":h.push({name:"pengiriman-agregasi-lacak-id",params:{id:"1"}});break}}return(l,i)=>{const I=oe,Q=se,V=le,y=ie,$=_e,b=re,A=ce,C=ue,F=W,K=de,R=pe,j=me,q=ge,H=fe,G=he;return r(),m("div",xe,[t(y,{vertical:""},{default:n(()=>[t(y,{vertical:"",size:0},{default:n(()=>[t(I,{style:{"margin-bottom":"0"}},{default:n(()=>[f("Monitoring Delivery")]),_:1}),t(V,null,{default:n(()=>[t(Q,null,{default:n(()=>[f("Monitoring Delivery")]),_:1})]),_:1})]),_:1})]),_:1}),e("div",De,[t(C,{cols:"4","x-gap":"12",style:{"margin-top":"1rem"}},{default:n(()=>[t(b,null,{default:n(()=>[t($,{value:a(o).search,"onUpdate:value":[i[0]||(i[0]=s=>a(o).search=s),O],clearable:"",placeholder:"Cari Kode DO"},null,8,["value"])]),_:1}),t(b,null,{default:n(()=>[t(A,{options:a(B),"onUpdate:value":U,clearable:"",filterable:"",placeholder:"Pilih Status"},null,8,["options"])]),_:1})]),_:1}),e("div",we,[a(p)?(r(),z(F,{key:0})):(r(),z(H,{key:1,"x-scrollable":""},{default:n(()=>[t(q,{"single-line":!1},{default:n(()=>[Me,e("tbody",null,[a(u).list.length>0?(r(!0),m(te,{key:0},ae(a(u).list,(s,k)=>{var S,x,D,w,M;return r(),m("tr",{key:k},[e("td",ze,c(a(o).limit*(a(o).page-1)+(k+1)),1),e("td",Ne,c(s.code),1),e("td",Te,c((S=s.total)==null?void 0:S.manifest),1),e("td",Be,c(((w=(D=(x=s.destination)==null?void 0:x.address)==null?void 0:D.province)==null?void 0:w.name)||"-"),1),e("td",Le,c((M=s.total)==null?void 0:M.qty_packed),1),e("td",Oe,[t(K,{type:"warning",strong:"",bordered:!1,round:""},{default:n(()=>[f(c(a(T).MonitoringDelivery(s.status)),1)]),_:2},1024)]),e("td",Pe,[t(j,{"show-arrow":"",placement:"bottom-end",options:L,onSelect:J=>E(J,s._id)},{default:n(()=>[t(R,{tertiary:""},{icon:n(()=>[t(a(ne),null,{default:n(()=>[t(a(ke))]),_:1})]),_:1})]),_:2},1032,["onSelect"])])])}),128)):(r(),m("tr",Ue,Ie))])]),_:1})]),_:1})),e("div",Qe,[t(G,{page:a(o).page,"onUpdate:page":[i[1]||(i[1]=s=>a(o).page=s),d],"page-size":a(o).limit,"onUpdate:pageSize":[i[2]||(i[2]=s=>a(o).limit=s),P],"page-count":a(u).total_page,"page-slot":7,"show-size-picker":a(u).total_data>10,"page-sizes":[10,20,30,40,50]},null,8,["page","page-size","page-count","show-size-picker"])])])])])}}});export{He as default};
