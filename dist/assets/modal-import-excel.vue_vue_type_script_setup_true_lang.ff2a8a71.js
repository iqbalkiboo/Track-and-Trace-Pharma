import{s as w}from"./serialisasi-external.c8482290.js";import{d as E,E as C,r as p,G as P,o as x,h as F,w as a,k as o,q as u,t as U,i as n,c as v,a as L,aJ as I,ak as N,K as T,aM as V,v as O,L as R,M as $}from"./index.21c0d750.js";const j="/assets/serialisasi-external.9b8b5bdc.xlsx",q="/assets/serialisasi-external-product.d04d40d3.xlsx",G=L("p",{style:{"font-size":"13px","margin-top":"0","margin-bottom":"0"}},"Unggah File",-1),H=["href"],J=["href"],Q=E({__name:"modal-import-excel",props:{isShowModal:{type:Boolean},isImportProduct:{type:Boolean},data:{}},emits:["update:isShowModal","hideModal","getData"],setup(y,{emit:_}){const d=y,r=C(),l=p(!1),f=p(0),b=p(null),i=p({});P(()=>d.isShowModal,e=>{e||(i.value.name="",i.value.file="",f.value=0)});function S(e){var s;["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].indexOf(String((s=e.file.file)==null?void 0:s.type))===-1?r.error("File yang diupload bukan excel, silakan upload ulang"):(i.value.name=e.file.name,i.value.file=e.file.file,f.value=e.fileList.length)}function k(){l.value=!0;const e=new FormData;e.append("file",i.value.file),e.append("import_serialization_id",d.data.id),d.isImportProduct?w.importSerializeProduct(e).then(()=>{l.value=!1,_("getData"),m(),r.success("Berhasil upload Serialisasi")}).catch(t=>{const s=t.response.data;r.error(s.message),l.value=!1}):w.importSerialize(e).then(()=>{l.value=!1,_("getData"),m(),r.success("Berhasil upload DO External")}).catch(t=>{const s=t.response.data;r.error(s.message),l.value=!1})}const m=()=>{setTimeout(()=>{_("hideModal")},100)};return(e,t)=>{const s=I,M=N,h=T,z=V,c=O,B=R,D=$;return x(),F(D,{show:d.isShowModal,"onUpdate:show":t[1]||(t[1]=g=>e.$emit("update:isShowModal",g))},{default:a(()=>[o(B,{style:{width:"470px","--n-border-radius":"10px"},"content-style":"padding: 15px 20px 28px 20px;",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:a(()=>[o(c,{vertical:"",size:25},{default:a(()=>[o(s,{style:{"margin-bottom":"0"}},{default:a(()=>[u(U(d.isImportProduct?"Upload Serialisasi":"Upload DO External"),1)]),_:1}),o(c,{vertical:"",size:14},{default:a(()=>[o(c,{vertical:"",size:8},{default:a(()=>[G,o(c,null,{default:a(()=>[o(M,{value:n(i).name,"onUpdate:value":t[0]||(t[0]=g=>n(i).name=g),type:"text",placeholder:"File excel..",readonly:!0,style:{width:"16rem"}},null,8,["value"]),o(z,{ref_key:"uploadExcelRef",ref:b,action:"","default-upload":!1,"show-file-list":!1,onChange:S},{default:a(()=>[o(h,{loading:n(l),color:"#219653",class:"button-tnt"},{default:a(()=>[u(" Pilih Excel ")]),_:1},8,["loading"])]),_:1},512)]),_:1}),e.isImportProduct?(x(),v("a",{key:0,href:n(q),download:"",style:{"font-size":"13px",color:"#219653"}},"Download Contoh File",8,H)):(x(),v("a",{key:1,href:n(j),download:"",style:{"font-size":"13px",color:"#219653"}},"Download Contoh File",8,J))]),_:1})]),_:1}),o(c,{justify:"center"},{default:a(()=>[o(h,{loading:n(l),color:"#828282",class:"button-tnt",onClick:m},{default:a(()=>[u(" Batalkan ")]),_:1},8,["loading"]),o(h,{disabled:n(f)===0,loading:n(l),color:"#219653",class:"button-tnt",style:{width:"110px"},onClick:k},{default:a(()=>[u(" Upload ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});export{Q as _};
